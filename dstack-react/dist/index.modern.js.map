{"version":3,"file":"index.modern.js","sources":["../src/AccessForbidden/index.js","../src/Avatar/index.js","../src/BackButton/index.js","../src/Spinner/index.js","../src/Button/index.js","../src/CheckboxField/index.js","../src/Copy/index.js","../src/CodeViewer/index.js","../src/Dropdown/index.js","../src/utils/unicodeBase64Decode.js","../src/utils/formatBytesSize.js","../src/FileDragnDrop/index.js","../src/Loader/index.js","../src/MarkdownRender/index.js","../src/Modal/index.js","../src/config/index.js","../src/NotFound/index.js","../src/hooks/usePrevious.js","../src/ProgressBar/index.js","../src/TextField/index.js","../src/SearchField/index.js","../src/SelectField/index.js","../src/SliderField/index.js","../src/StackFilters/index.js","../src/StretchTitleField/index.js","../src/Tabs/index.js","../src/TextAreaField/index.js","../src/Tooltip/index.js","../src/ViewSwitcher/index.js","../src/Yield/index.js","../src/stack/Attachment/Table/index.js","../src/api.js","../src/stack/Attachment/actionsTypes.js","../src/stack/Attachment/store.js","../src/stack/Attachment/actions.js","../src/stack/Attachment/index.js"],"sourcesContent":["// @flow\nimport React from 'react';\nimport image from './lock.svg';\nimport css from './style.module.css';\n\nconst AccessForbidden = ({children}) => {\n    return (\n        <div className={css.forbidden}>\n            <img src={image} alt=\"\" width=\"85\" height=\"104\" />\n\n            {children && (\n                <div className={css.message}>\n                    {children}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AccessForbidden;\n","import React, {forwardRef} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    onClick?: Function,\n    withBorder?: boolean,\n    className?: string,\n    name: string,\n    color?: 'violet' | 'turquoise' | 'blue' | 'lilac' | 'pink' | 'green' | 'green2' | 'orange',\n    size?: 'small' | 'normal' | 'list',\n}\n\nconst Avatar = forwardRef(({className, name, color = 'violet', size = 'normal', withBorder, onClick}: Props, ref) => {\n    return (\n        <div ref={ref} className={cx(css.avatar, className, color, size, {border: withBorder})} onClick={onClick}>\n            {name.slice(0, 2)}\n        </div>\n    );\n});\n\nexport default Avatar;\n","import React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\nconst BackButton = ({Component = 'button', children, className, ...props}) => {\n    return (\n        <Component className={cx(css.back, className)} {...props}>\n            <span className=\"mdi mdi-arrow-left\" />\n            {children}\n        </Component>\n    );\n};\n\nexport default BackButton;","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\nconst COLORS = {\n    white: '#fff',\n    blue: '#507CD0',\n};\n\ntype Props = {\n    align?: 'center',\n    size?: number,\n    color?: 'white' | 'blue',\n    isShown?: boolean,\n    className?: string,\n};\n\nconst Spinner = ({size = 22, color = 'white', isShown, className, align}: Props) => {\n    return (\n        <div className={cx(css.spinner, className, align, {show: isShown})}>\n            <svg width={size} height={size} viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* eslint-disable */}\n                <path\n                    d=\"M11.7046 18.9689C13.3618 18.8224 14.9321 18.1628 16.1969 17.0821C17.4617 16.0014 18.3581 14.5532 18.7614 12.9392C19.1647 11.3252 19.0548 9.62557 18.4469 8.07695C17.839 6.52832 16.7635 5.20773 15.37 4.29897C13.9765 3.39021 12.3343 2.9385 10.672 3.00671C9.00979 3.07491 7.41015 3.65964 6.09577 4.67951C4.78139 5.69938 3.81766 7.10365 3.33871 8.69687C2.85976 10.2901 2.88943 11.993 3.42358 13.5686L5.19569 12.9678C4.78648 11.7607 4.76375 10.4561 5.13067 9.23556C5.4976 8.01499 6.23591 6.93918 7.24286 6.15785C8.24981 5.37653 9.4753 4.92857 10.7488 4.87632C12.0222 4.82406 13.2803 5.17012 14.3478 5.86632C15.4154 6.56253 16.2394 7.57423 16.7051 8.76064C17.1708 9.94704 17.255 11.2491 16.946 12.4856C16.6371 13.7221 15.9503 14.8316 14.9814 15.6595C14.0124 16.4875 12.8094 16.9927 11.5398 17.105L11.7046 18.9689Z\"\n                    fill=\"url(#paint0_linear)\"\n                />\n                {/* eslint-enable */}\n\n                <defs>\n                    <linearGradient id=\"paint0_linear\" x1=\"13.5\" y1=\"18\" x2=\"4\" y2=\"13\" gradientUnits=\"userSpaceOnUse\">\n                        <stop stopColor={COLORS[color]} />\n                        <stop offset=\"1\" stopColor={COLORS[color]} stopOpacity=\"0.2\"/>\n                    </linearGradient>\n                </defs>\n            </svg>\n\n        </div>\n    );\n};\n\nexport default Spinner;\n","// @flow\nimport React, {forwardRef} from 'react';\nimport type {Node} from 'react';\nimport cx from 'classnames';\nimport css from './style.module.css';\nimport Spinner from '../Spinner';\n\ntype Props = {\n    Component?: any,\n    children?: Node,\n    className?: string,\n    size?: 'small' | 'normal' | 'large',\n    color?: 'default' | 'primary' | 'secondary' | 'lilac' | 'success' | 'fail',\n    variant?: 'default' | 'contained' | 'outlined',\n    isShowSpinner?: boolean,\n    fullWidth?: boolean,\n    onClick?: Function,\n};\n\nconst Button:Props = forwardRef((\n    {\n        Component = 'button',\n        children,\n        className,\n        size = 'normal',\n        color = 'default',\n        variant = 'default',\n        fullWidth = false,\n        isShowSpinner,\n        ...props\n    },\n\n    ref\n) => {\n    return (\n        <Component\n            ref={ref}\n            className={\n                cx(css.button, size, `color-${color}`, `variant-${variant}`, className, {'full-width': fullWidth})\n            }\n\n            {...props}\n        >\n            {isShowSpinner && <Spinner className={css.spinner} color=\"white\" isShown />}\n            {children}\n        </Component>\n    );\n});\n\nexport default Button;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    onChange?: Function,\n    value?: boolean,\n    appearance: 'checkbox' | 'switcher',\n    align: 'left' | 'right',\n    label?: string,\n    onLabel?: string,\n    offLabel?: string,\n    children?: any,\n}\n\nconst CheckboxField = ({\n    className,\n    value,\n    disabled,\n    appearance = 'checkbox',\n    align = 'left',\n    label,\n    onLabel,\n    offLabel,\n    children,\n    ...props\n}: Props) => {\n    return (\n        <label className={cx(css.checkbox, className, appearance, align, {disabled})}>\n            <div>\n                <input\n                    type=\"checkbox\"\n                    checked={value}\n                    {...props}\n                />\n\n                {offLabel && <span\n                    className={cx(css['toggle-label'], 'off')}\n                    dangerouslySetInnerHTML={{__html: offLabel}}\n                />}\n\n                <div className={css.wrapper}>\n                    <div className={cx(css.mark, 'mdi', 'mdi-check', {'toggle-color': !(onLabel && offLabel)})} />\n                </div>\n\n                {onLabel && <span\n                    className={cx(css['toggle-label'], 'on')}\n                    dangerouslySetInnerHTML={{__html: onLabel}}\n                />}\n\n                {label && <span className={css.label}>{label}</span>}\n            </div>\n\n            {children}\n        </label>\n    );\n};\n\nexport default CheckboxField;\n","// @flow\n\nimport React, {useState} from 'react';\nimport cx from 'classnames';\nimport copy from 'copy-to-clipboard';\nimport {useTranslation} from 'react-i18next';\nimport css from './styles.module.css';\n\ntype Props = {\n    children?: Function,\n    className?: string,\n    copyText: string,\n    buttonTitle?: string,\n    successMessage?: string,\n};\n\nconst Copy = ({children, className, copyText, successMessage, buttonTitle}: Props) => {\n    const {t} = useTranslation();\n    const [isShowMessage, setIsShowMessage] = useState(false);\n\n    const onCLick = () => {\n        copy(copyText);\n        setIsShowMessage(true);\n        setTimeout(() => setIsShowMessage(false), 3000);\n    };\n\n    return <div className={cx(css.copy, className)}>\n        {children\n            ? children({onClick: onCLick})\n            : (\n                <div className={css.button} onClick={onCLick}>\n                    <span className={cx(css.icon, 'mdi mdi-content-copy')} />\n\n                    {buttonTitle\n                        ? buttonTitle\n                        : t('copy')\n                    }\n                </div>\n            )\n        }\n\n        <div className={cx(css.message, {'is-show': isShowMessage})}>\n            {successMessage\n                ? successMessage\n                : t('copied')\n            }\n        </div>\n    </div>;\n};\n\nexport default Copy;\n","// @flow\n\nimport React from 'react';\nimport Highlight from 'react-highlight.js';\nimport {useTranslation} from 'react-i18next';\nimport Copy from '../Copy';\nimport cx from 'classnames';\nimport './theme.css';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    language: string,\n    children: string,\n    fontSize?: string | number\n};\n\nconst CodeViewer = ({className, language, children, fontSize}: Props) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={cx(css.code, className, fontSize && `font-size-${fontSize}`)}>\n            <Highlight language={language}>\n                {children}\n            </Highlight>\n\n            <Copy\n                className={css.copy}\n                copyText={children}\n                successMessage={t('snippetIsCopied')}\n            />\n        </div>\n    );\n};\n\nexport default CodeViewer;\n","// @flow\nimport React, {useState, useEffect, useRef} from 'react';\nimport cx from 'classnames';\nimport RcTooltip from 'rc-tooltip';\nimport css from './styles.module.css';\n\ntype Item = {\n    title: string,\n    onClick?: Function,\n}\n\ntype Props = {\n    children?: Function,\n    className?: string,\n    buttonClassName?: string,\n    items: Array<Item>\n}\n\nconst Dropdown = ({className, buttonClassName, children, items}: Props) => {\n    const [isShow, setIsShow] = useState(false);\n    const buttonRef = useRef(null);\n    const dropdownRef = useRef(null);\n\n    useEffect(() => {\n        document.body.addEventListener('click', outlineClickHandle);\n        return () => document.body.removeEventListener('click', outlineClickHandle);\n    });\n\n    const outlineClickHandle = (event: SyntheticEvent<HTMLBodyElement>) => {\n        let targetElement = event.target;\n\n        do {\n            if (targetElement === buttonRef.current || targetElement === dropdownRef.current)\n                return;\n\n            targetElement = targetElement.parentNode;\n        } while (targetElement);\n\n        if (isShow)\n            setIsShow(false);\n    };\n\n    const onCLickButton = (event: SyntheticEvent<HTMLButtonElement>) => {\n        clickStopPropagation(event);\n        setIsShow(!isShow);\n    };\n\n    const clickStopPropagation = (event: SyntheticEvent<HTMLButtonElement>) => {\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    const onCLickItem = (item: Item) => () => {\n        setIsShow(!isShow);\n\n        if (item.onClick)\n            item.onClick();\n    };\n\n    return (\n        <div className={cx(css.dropdown, className, {active: isShow})}>\n            <RcTooltip\n                arrowContent={null}\n                visible={isShow}\n                placement=\"bottomRight\"\n                destroyTooltipOnHide\n                align={{offset: [0, 0]}}\n\n                overlay={\n                    <div\n                        className={cx(css.menu, 'show')}\n                        ref={dropdownRef}\n                        onClick={clickStopPropagation}\n                    >\n                        {items.map((i, index) => <div\n                            key={index}\n                            className={css.item}\n                            onClick={onCLickItem(i)}\n                        >\n                            {i.title}\n                        </div>)}\n                    </div>\n                }\n            >\n                {children\n                    ? React.cloneElement(children, {\n                        onClick: onCLickButton,\n                        ref: buttonRef,\n                    })\n                    : <div ref={buttonRef} className={cx(css.button, buttonClassName)} onClick={onCLickButton}>\n                        <span className=\"mdi mdi-dots-vertical\" />\n                    </div>\n                }\n            </RcTooltip>\n        </div>\n    );\n};\n\nexport default Dropdown;\n","const unicodeBase64Decode = text => {\n    try {\n        const decodeData = window.atob(text);\n\n        return decodeURIComponent(Array.prototype.map.call(decodeData, c => {\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        }).join(''));\n    } catch (e) {\n        return null;\n    }\n};\n\nexport default unicodeBase64Decode;","const formatBytes = (bytes, decimals) => {\n    if (bytes === 0) return '0 Bytes';\n    \n    let k = 1024;\n\n    let dm = decimals <= 0 ? 0 : decimals || 2;\n\n    let sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    let i = Math.floor(Math.log(bytes) / Math.log(k));\n    \n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\nexport default formatBytes;","// @flow\nimport React, {useEffect, useRef, useState} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport {formatBytes} from '../utils';\nimport css from './style.module.css';\n\ntype Props = {\n    formats?: Array<string>,\n    className?: string,\n    loading?: boolean,\n    progressPercent?: ?number,\n    onChange?: Function,\n}\n\nconst FileDragnDrop = ({\n    formats,\n    className,\n    loading,\n    progressPercent = null,\n    onChange,\n}: Props) => {\n    const {t} = useTranslation();\n    const inputRef = useRef(null);\n    const [active, setActive] = useState(false);\n    const [selectedFile, setSelectedFile] = useState();\n    const isDidMount = useRef(true);\n\n    useEffect(() => {\n        if (!isDidMount.current) {\n            if (onChange)\n                onChange(selectedFile);\n        } else\n            isDidMount.current = false;\n    }, [selectedFile]);\n\n    const onClick = event => {\n        event.preventDefault();\n\n        if (inputRef.current)\n            inputRef.current.click();\n    };\n\n    const preventStop = event => {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    const onDrop = event => {\n        preventStop(event);\n        setActive(false);\n\n        const [file] = event.dataTransfer.files;\n\n        if (file && checkAvailableExtension(file))\n            setSelectedFile(file);\n    };\n\n    const onDragEnter = event => {\n        preventStop(event);\n        setActive(true);\n\n    };\n\n    const onDragLeave = event => {\n        preventStop(event);\n        setActive(false);\n    };\n\n    const onChangeInput = event => {\n        const [file] = event.target.files;\n\n        if (file && checkAvailableExtension(file))\n            setSelectedFile(file);\n    };\n\n    const removeFile = () => {\n        setSelectedFile(null);\n    };\n\n    const checkAvailableExtension = file => {\n        const ext = '.' + file.name.split('.').pop();\n\n        let isAvailable;\n\n        if (formats && formats.length)\n            isAvailable = formats.some(format => {\n                if (format === '.jpg' || format === '.jpeg')\n                    return ext === '.jpg' || ext === '.jpeg';\n                else\n                    return format === ext;\n            });\n        else\n            isAvailable = true;\n\n        return isAvailable;\n    };\n\n    if (loading)\n        return (\n            <div className={cx(css.dnd, className, {active})}>\n                <div className={css.loading}>\n                    {t('Uploading')}&hellip;\n                    {typeof progressPercent === 'number' && `${progressPercent}%`}\n                </div>\n\n                {typeof progressPercent === 'number' &&  (\n                    <div className={css.progressBar}>\n                        <div className={css.progress} style={{width: `${progressPercent}%`}} />\n                    </div>\n                )}\n            </div>\n        );\n\n    if (selectedFile)\n        return <div className={cx(css.file, className)}>\n            <div className={css.fileExtend}>\n                .csv\n            </div>\n\n            <div className={css.fileSection}>\n                <div className={css.fileName}>{selectedFile.name}</div>\n                <div className={css.fileSize}>{formatBytes(selectedFile.size)}</div>\n            </div>\n\n            <div onClick={removeFile} className={cx(css.fileRemove, 'mdi mdi-close')} />\n        </div>;\n\n\n    return (\n        <div\n            className={cx(css.dnd, className, {active})}\n            onDrop={onDrop}\n            onDragEnter={onDragEnter}\n            onDragOver={onDragEnter}\n            onDragLeave={onDragLeave}\n        >\n            <input\n                ref={inputRef}\n                onChange={onChangeInput}\n                type=\"file\"\n            />\n\n            <div className={css.placeholder}>\n                {t('dragHereAFile')}\n                {''}\n                {Boolean(formats) && `(${formats.join(', ')})`}\n                {' '}\n                {t('or')}\n                {' '}\n                <a onClick={onClick} href=\"#\">{t('upload')}</a>\n                {' '}\n                {t('fromYourComputer')}.\n            </div>\n        </div>\n    );\n};\n\nexport default FileDragnDrop;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport MathJax from 'react-mathjax';\nimport RemarkMathPlugin from 'remark-math';\n\nconst MarkdownRender = props => {\n    const newProps = {\n        ...props,\n        plugins: [\n            RemarkMathPlugin,\n        ],\n\n        renderers: {\n            ...props.renderers,\n            math: props =>\n                <MathJax.Node formula={props.value} />,\n            inlineMath: props =>\n                <MathJax.Node inline formula={props.value} />,\n        },\n    };\n\n    return (\n        <MathJax.Provider input=\"tex\">\n            <ReactMarkdown {...newProps} />\n        </MathJax.Provider>\n    );\n};\n\nexport default MarkdownRender;","// @flow\n\nimport React from 'react';\nimport type {Node} from 'react';\nimport {Portal} from 'react-portal';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    title?: string,\n    isShow?: boolean,\n    className?: string,\n    dialogClassName?: string,\n    size?: 'confirmation' | 'small' | 'big',\n    onClose: Function,\n    children?: Node,\n    withCloseButton?: boolean,\n};\n\nconst Modal = ({\n    title,\n    className,\n    dialogClassName,\n    size = 'big',\n    onClose,\n    isShow,\n    children,\n    withCloseButton,\n}: Props) => {\n    const onClickByLayer = event => {\n        if (event.currentTarget === event.target && onClose)\n            onClose();\n    };\n\n    return (\n        <Portal>\n            <div className={cx(css.modal, className, {show: isShow})} onClick={onClickByLayer}>\n                <div className={cx(css.dialog, size, dialogClassName)}>\n                    {withCloseButton && <span className={cx(css.close, 'mdi mdi-close')} onClick={onClose} />}\n\n                    {title && <div className={css.title}>{title}</div>}\n                    {children}\n                </div>\n            </div>\n        </Portal>\n    );\n};\n\nexport default Modal;\n","export default {\n    // API_URL: '/api',\n    API_URL: 'https://api.stgn.dstack.ai',\n\n    GA_ID: '',\n    DOCS_URL: 'http://docs.dstack.ai',\n\n    LOGIN_URL: '/users/login',\n    VERIFY_EMAIL_URL: '/users/verify',\n\n    USER_DATA_URL: '/users/remember',\n    UPDATE_TOKEN_URL: '/users/update/token',\n    UPDATE_SETTINGS_URL: '/users/update/settings',\n    CHECK_USER: userName => `/users/exists/${userName}`,\n\n    STACKS_LIST: userName => `/stacks/${userName}`,\n    DELETE_STACK: () => '/stacks/delete',\n    STACK_DETAILS: (userName, stack) => `/stacks/${userName}/${stack}`,\n    STACK_FRAME: (userName, stack, frameId) => `/frames/${userName}/${stack}/${frameId}`,\n    STACK_ATTACHMENT: (stack, frameId, id) => `/attachs/${stack}/${frameId}/${id}`,\n    STACK_UPDATE: '/stacks/update',\n    STACK_PUSH: '/stacks/push',\n\n    DASHBOARD_LIST: userName => `/dashboards/${userName}`,\n    DASHBOARD_DETAILS: (userName, id) => `/dashboards/${userName}/${id}`,\n    DASHBOARD_CREATE: '/dashboards/create',\n    DASHBOARD_UPDATE: '/dashboards/update',\n    DASHBOARD_DELETE: '/dashboards/delete',\n    DASHBOARD_CARDS_INSERT: '/dashboards/cards/insert',\n    DASHBOARD_CARDS_UPDATE: '/dashboards/cards/update',\n    DASHBOARD_CARDS_DELETE: '/dashboards/cards/delete',\n\n    DISCORD_URL: 'https://discord.gg/8xfhEYa',\n    TWITTER_URL: 'https://twitter.com/dstackai',\n    GITHUB_URL: ' https://github.com/dstackai',\n    MEDIUM_URL: ' https://medium.com/dstackai',\n\n    CONFIGURE_PYTHON_COMMAND: (token = '<token>', userName = '<username>') => {\n        const origin = window ? window.location.origin : '';\n\n        return `dstack config --token ${token} --user ${userName} --server ${origin}/api`;\n    },\n\n    CONFIGURE_R_COMMAND: (token = '<token>', userName = '<username>') => {\n        const origin = window ? window.location.origin : '';\n\n        return `dstack::configure(user = \"${userName}\", token = \"${token}\", persist = \"global\"`\n            + `, server = \"${origin}/api\")`;\n    },\n};\n","// @flow\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport config from '../config';\nimport image from './404.svg';\nimport css from './style.module.css';\n\nconst NotFound = ({children}) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={css['not-found']}>\n            <img src={image} alt=\"\" width=\"224\" height=\"77\" />\n\n            {children && (\n                <div className={css.message}>\n                    {children}\n                </div>\n            )}\n\n            <div className={css.help}>\n                {t('needHelpWWriteToUsOn')}\n                {' '}\n                <a target=\"_blank\" href={config.TWITTER_URL}><span className=\"mdi mdi-twitter\" /> Twitter</a>\n                {', '}\n                <a target=\"_blank\" href={config.GITHUB_URL}><span className=\"mdi mdi-github-circle\" />GitHub</a>\n                {' '}\n                {t('or')}\n                {' '}\n                <a target=\"_blank\" href={config.DISCORD_URL}><span className=\"mdi mdi-discord\" />Discord</a>\n            </div>\n        </div>\n    );\n};\n\nexport default NotFound;\n","import {useEffect, useRef} from 'react';\n\nexport default value => {\n    const ref = useRef(value);\n\n    useEffect(() => {\n        ref.current = value;\n    }, [value]);\n\n    return ref.current;\n};\n","// @flow\nimport React, {useCallback, useEffect, useRef, useState} from 'react';\nimport cx from 'classnames';\nimport {usePrevious} from '../hooks';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    isActive: ?boolean,\n}\n\nconst ProgressBar = ({className, isActive, progress: globalProgress}: Props) => {\n    const [progress, setProgress] = useState(0);\n    const [width, setWidth] = useState(1000);\n    const prevIsActive = usePrevious(isActive);\n    const step = useRef(0.01);\n    const currentProgress = useRef(0);\n    const requestFrame = useRef(null);\n    const ref = useRef(null);\n\n    useEffect(() => {\n        if (isActive) {\n            setProgress(0);\n            step.current = 0.01;\n            currentProgress.current = 0;\n            startCalculateProgress();\n        }\n\n        if (prevIsActive === true && isActive === false) {\n            if (requestFrame.current)\n                cancelAnimationFrame(requestFrame.current);\n\n            setProgress(100);\n            setTimeout(() => setProgress(0), 800);\n        }\n\n        if (isActive === null) {\n            if (requestFrame.current)\n                cancelAnimationFrame(requestFrame.current);\n\n            setProgress(0);\n        }\n    }, [isActive]);\n\n    useEffect(() => {\n        if (globalProgress !== null)\n            setProgress(globalProgress);\n        else {\n            setProgress(0);\n        }\n    }, [globalProgress]);\n\n    useEffect(() => {\n        window.addEventListener('resize', onResize);\n\n        if (ref.current)\n            setWidth(ref.current.offsetWidth);\n\n        return () => window.removeEventListener('resize', onResize);\n    }, []);\n\n    const startCalculateProgress = () => {\n        requestAnimationFrame(calculateProgress);\n    };\n\n    const calculateProgress = useCallback(() => {\n        currentProgress.current += step.current;\n        const progress = Math.round(Math.atan(currentProgress.current) / (Math.PI / 2) * 100 * 1000) / 1000;\n\n        setProgress(progress);\n\n        if (progress > 70)\n            step.current = 0.005;\n\n        if (progress >= 100)\n            cancelAnimationFrame(requestFrame.current);\n\n        requestFrame.current = requestAnimationFrame(calculateProgress);\n    }, [isActive]);\n\n    const onResize = () => {\n        if (ref.current)\n            setWidth(ref.current.offsetWidth);\n    };\n\n    return (\n        <div ref={ref} className={cx(css.bar, className)}>\n            <div\n                className={css.progress}\n                style={{\n                    width: `${progress}%`,\n                    backgroundSize: `${width}px 5px`,\n                }}\n            />\n        </div>\n    );\n};\n\nexport default ProgressBar;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    size?: 'normal' | 'middle' | 'small',\n    label?: string,\n    className?: string,\n    errors?: Array<string>,\n}\n\nconst TextField = ({label, className, size = 'normal', errors = [], ...props}: Props) => {\n    const hasErrors = Boolean(errors.length);\n\n    return (\n        <div className={cx(css.field, className, size, {disabled: props.disabled})}>\n            <label>\n                {label && <div className={css.label}>{label}</div>}\n\n                <div className={css.input}>\n                    {/*$FlowFixMe*/}\n                    <input\n                        className={cx({error: hasErrors})}\n                        {...props}\n                    />\n                </div>\n\n                {hasErrors && <div className={css.error}>{errors.join(', ')}</div>}\n            </label>\n        </div>\n    );\n};\n\nexport default TextField;\n","// @flow\n\nimport React, {useState} from 'react';\nimport cx from 'classnames';\nimport TextField from '../TextField';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    showEverything?: boolean,\n    isDark?: boolean,\n}\n\nconst SearchField = ({className, showEverything, isDark, ...props}: Props) => {\n    const [isShow, setIsShow] = useState(showEverything || (props.value && props.value.length));\n\n    const clear = () => {\n        if (props.onChange)\n            props.onChange('');\n\n        if (!showEverything)\n            setIsShow(false);\n    };\n\n    const onChangeHandle = (event:SyntheticEvent<HTMLInputElement>) => {\n        if (props.onChange)\n            props.onChange(event.target.value);\n    };\n\n    return (\n        <div className={cx(css.search, className, {'is-dark': isDark})}>\n            {isShow && <TextField\n                {...props}\n                onChange={onChangeHandle}\n                className={css.field}\n            />}\n\n            {isShow && Boolean(props.value && props.value.length) && (\n                <div className={css.clear} onClick={clear}>\n                    <span className=\"mdi mdi-close\" />\n                </div>\n            )}\n\n            {isShow && !Boolean(props.value && props.value.length) && (\n                <div className={css.clear}>\n                    <span className=\"mdi mdi-magnify\" />\n                </div>\n            )}\n\n            {!isShow && <div className={css.button} onClick={() => setIsShow(true)}>\n                <span className=\"mdi mdi-magnify\" />\n            </div>}\n        </div>\n    );\n};\n\nexport default SearchField;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport Select, {Option, OptGroup} from 'rc-select';\nimport CheckboxField from '../CheckboxField';\nimport css from './styles.module.css';\nimport './test.css';\n\nconst allValue = 'all';\n\ntype Props = {\n    className?: string,\n    disabled?: boolean,\n    placeholder?: string,\n    showSearch?: boolean,\n    value: Array<string>,\n    mode?: string,\n    align: 'left' | 'right' | 'bottom',\n    label?: string,\n\n    options: Array<{\n        value: string,\n        label: string,\n    }>,\n}\n\nconst SelectField = ({\n    align = 'left',\n    label,\n    disabled,\n    placeholder,\n    value: propValue = [],\n    className,\n    mode,\n    onChange,\n    options = [],\n    showSearch = true,\n    ...props\n}: Props) => {\n    const onChangeHandle = (value: Array<string>) => {\n        if (value.indexOf(allValue) >= 0)\n            if (value.length > options.length)\n                value = [];\n            else\n                value = options.map(o => o.value);\n\n        if (onChange)\n            onChange(value);\n    };\n\n    const onSelect = () => {};\n\n    const onDeselect = () => {};\n\n    const renderOptions = () => options.map(({value, label}) => (\n        <Option key={value} value={value}>\n            {mode === 'multiple' && <CheckboxField\n                readOnly\n                className=\"select-field-item-option-checkbox\"\n                value={propValue.indexOf(value) >= 0}\n            />}\n\n            <span className=\"select-field-item-option-label\">{label}</span>\n        </Option>\n    ));\n\n    return (\n        <div className={cx(css.field, className, align, {disabled})}>\n            <Select\n                value={propValue}\n                // animation={useAnim ? 'slide-up' : null}\n                // choiceTransitionName=\"rc-select-selection__choice-zoom\"\n                prefixCls=\"select-field\"\n                multiple={mode === 'multiple'}\n                showArrow\n                showSearch={showSearch}\n                onSelect={onSelect}\n                onDeselect={onDeselect}\n                placeholder={placeholder}\n                onChange={onChangeHandle}\n                inputIcon={<span className=\"mdi mdi-chevron-down\" />}\n                {...props}\n            >\n                {options.length && mode === 'multiple' && <Option key={allValue} value={allValue}>\n                    <CheckboxField\n                        readOnly\n                        className=\"select-field-item-option-checkbox\"\n                        value={propValue.length === options.length}\n                    />\n\n                    <span className=\"select-field-item-option-label\">Select all</span>\n                </Option>}\n\n                {mode === 'multiple'\n                    ? <OptGroup>{renderOptions()}</OptGroup>\n                    : renderOptions()\n                }\n            </Select>\n\n            {label && <label className={css.label}>{label}</label>}\n        </div>\n    );\n};\n\nexport default SelectField;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport Slider from 'rc-slider';\nimport css from './styles.module.css';\nimport './test.css';\n\ntype Props = {\n    name?: string,\n    label?: string,\n    className?: string,\n    align: 'left' | 'right',\n};\n\nconst CustomHandle = props => {\n    const style = {\n        left: props.offset + '%',\n        transform: 'translateX(-50%)',\n    };\n\n    return (\n        <div className={props.className} key={props.index} style={style} data-value={props.value} />\n    );\n};\n\nconst SliderField = ({className, disabled, label, onChange, name, align = 'left', ...props}: Props) => {\n    const onChangeHandle = value => {\n        if (onChange)\n            onChange({\n                target: {\n                    value,\n                    name,\n                },\n            });\n    };\n\n    return (\n        <div className={cx(css.field, className, align, {disabled})}>\n            <div className={css.slider}>\n                <Slider\n                    onChange={onChangeHandle}\n                    tipFormatter={value => `$${value}`}\n                    handle={CustomHandle}\n                    {...props}\n                />\n            </div>\n\n            {label && <span className={css.label}>{label}</span>}\n        </div>\n    );\n};\n\nexport default SliderField;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport SelectField from '../SelectField'\nimport CheckboxField from '../CheckboxField'\nimport SliderField from '../SliderField'\nimport css from './styles.module.css';\n\ntype Props = {\n    fields: {},\n    form: {},\n    onChange: Function,\n    className?: string, \n}\n\nconst StackFilters = ({className, fields, form, onChange}: Props) => {\n    return (\n        <div className={cx(css.filters, className)}>\n            {Object.keys(fields).map(key => {\n                switch (fields[key].type) {\n                    case 'select':\n                        return <SelectField\n                            key={`select-${key}`}\n                            align=\"bottom\"\n                            className={cx(css.field, css.select)}\n                            onChange={value => onChange(key, value)}\n                            label={key}\n                            name={key}\n                            options={fields[key].options}\n                            value={Array.isArray(form[key]) ? form[key] : [form[key]]}\n                        />;\n\n                    case 'checkbox':\n                        return <CheckboxField\n                            key={`checkbox-${key}`}\n                            className={css.field}\n                            onChange={onChange}\n                            label={key}\n                            name={key}\n                            value={form[key]}\n                        />;\n\n                    case 'slider':\n                        return <SliderField\n                            key={`slider-${key}`}\n                            className={css.field}\n                            onChange={onChange}\n                            align=\"right\"\n                            label={key}\n                            name={key}\n                            value={form[key]}\n                            step={null}\n                            min={fields[key].min}\n                            max={fields[key].max}\n                            marks={fields[key].options}\n                        />;\n\n                    default:\n                        return null;\n                }\n            })}\n        </div>\n    );\n};\n\nexport default StackFilters;","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    value?: ?string,\n    placeholder?: string,\n}\n\nconst StretchTitleField = ({\n    value,\n    placeholder = '',\n    className,\n    ...props\n}: Props) => {\n    return (\n        <div className={cx(css.field, className)}>\n            <input\n                type=\"text\"\n                placeholder={placeholder}\n                value={value}\n                {...props}\n            />\n\n            <div className={css.hidden}>\n                {value.length ? value : placeholder}\n            </div>\n        </div>\n    );\n};\n\nexport default StretchTitleField;\n","// @flow\n\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Value = string | number;\n\ntype Props = {\n    className?: string,\n    value: Value,\n    onChange: Function,\n\n    tabs: Array<{\n        label: string,\n        value: Value,\n    }>,\n}\n\nconst Tabs = ({className, value, tabs, onChange}: Props) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={cx(css.tabs, className)}>\n            {tabs.map((i, index) => (\n                <div\n                    key={index}\n                    className={cx(css.tab, {active: value === i.value})}\n                    onClick={() => onChange(i.value)}\n                >\n                    {i.label}\n                    {i.soon && <span className={css.soon}>{t('soon')}</span>}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default Tabs;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    size?: 'normal' | 'small',\n    label?: string,\n    className?: string,\n    errors?: Array<string>,\n}\n\nconst TextAreaField = ({label, className, size = 'normal', errors = [], ...props}: Props) => {\n    const hasErrors = Boolean(errors.length);\n\n    return (\n        <div className={cx(css.field, className, size, {disabled: props.disabled})}>\n            <label>\n                {label && <div className={css.label}>{label}</div>}\n\n                <div className={css.textarea}>\n                    {/*$FlowFixMe*/}\n                    <textarea\n                        className={cx({error: hasErrors})}\n                        {...props}\n                    />\n                </div>\n\n                {hasErrors && <div className={css.error}>{errors.join(', ')}</div>}\n            </label>\n        </div>\n    );\n};\n\nexport default TextAreaField;\n","// @flow\nimport React from 'react';\nimport RcTooltip from 'rc-tooltip';\nimport css from './style.module.css';\n\ntype Props = {\n    children: any,\n    overlayContent?: any,\n    arrowContent?: any,\n}\n\nconst Tooltip = ({\n    children,\n    overlayContent,\n    arrowContent = null,\n    placement = 'bottomLeft',\n    trigger = ['hover'],\n    overlayStyle = {'pointer-events': 'none'},\n    ...props\n}: Props) => {\n\n    return (\n        <RcTooltip\n            overlayStyle={overlayStyle}\n            arrowContent={arrowContent}\n            placement={placement}\n            trigger={trigger}\n            overlay={\n                <div className={css.tooltip}>{overlayContent}</div>\n            }\n            {...props}\n        >\n            {children}\n        </RcTooltip>\n    );\n};\n\nexport default Tooltip;\n","// @flow\nimport React, {useEffect, useState} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    value?: 'grid' | 'list',\n    onChange?: Function,\n    className?: string,\n}\n\nconst ViewSwitcher = ({value = 'grid', onChange, className}: Props) => {\n    const [stateValue, setStateValue] = useState(value);\n\n    useEffect(() => {\n        if (value !== stateValue)\n            setStateValue(value);\n\n    }, [value]);\n\n    const toggleValue = () => {\n        const newValue = stateValue === 'grid' ? 'list' : 'grid';\n\n        setStateValue(newValue);\n\n        if (onChange)\n            onChange(newValue);\n    };\n\n    return (\n        <div\n            className={cx(css.switcher, stateValue, className)}\n            onClick={toggleValue}\n        >\n            <span className=\"mdi mdi-view-grid\" />\n            <span className=\"mdi mdi-view-list\" />\n        </div>\n    );\n};\n\nexport default ViewSwitcher;","import React from 'react';\nimport {Portal} from 'react-portal';\n\nconst Yield = ({name, className, children}) => {\n    if (!name)\n        return null;\n\n    if (children)\n        return (\n            <Portal node={document && document.getElementById(name)}>\n                {children}\n            </Portal>\n        );\n\n    return (\n        <div className={className} id={name} />\n    );\n};\n\nexport default Yield;","\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Array<Array<string>>,\n}\n\nconst Table = ({data}: Props) => {\n    const [captions, ...rows] = data;\n\n    return (\n        <div className={css.table}>\n            <table>\n                <thead>\n                    <tr>\n                        {captions.map(caption => (\n                            <th key={caption}>{caption}</th>\n                        ))}\n                    </tr>\n                </thead>\n\n                <tbody>\n                    {rows.map((row, index) => (\n                        <tr key={index}>\n                            {row.map((cell, i) => (\n                                <td key={i}>{cell}</td>\n                            ))}\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default Table;\n","import axios from 'axios';\nimport {get as _get} from 'lodash-es';\nimport config from './config';\n\nexport const CancelToken = axios.CancelToken;\n\nconst instance = axios.create({\n    baseURL: config.API_URL,\n    crossDomain: true,\n});\n\ninstance.interceptors.request.use(config => {\n    const token = localStorage.getItem('token');\n\n    config.headers.Authorization = token ? `Bearer ${token}` : '';\n    return config;\n});\n\ninstance.interceptors.response.use(\n    response => {\n        return response;\n    },\n    error => {\n        if (_get(error, 'response.status', null) === 401) {\n            return Promise.reject(error.response);\n        } else if (_get(error, 'response.status', null) === 400) {\n            return Promise.reject(error.response);\n        } else {\n            return Promise.reject(error);\n        }\n    }\n);\n\nexport default instance;\n","export default {\n    FETCH: 'stacks/attachments/FETCH',\n    FETCH_SUCCESS: 'stacks/attachments/FETCH_SUCCESS',\n    FETCH_FAIL: 'stacks/attachments/FETCH_FAIL',\n};\n","import React, { createContext, useReducer, useContext } from \"react\";\nimport actionsTypes from \"./actionsTypes\";\n\nconst initialState = {\n  data: {},\n  errors: {},\n  requestStatus: null,\n};\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case (actionsTypes.FETCH):\n      return {\n        ...state,\n        data: {\n          ...state.data,\n          [action.meta.frameId]: {\n            ...state.data[action.meta.frameId],\n\n            [action.meta.id]: {\n              ...(\n                state.data[action.meta.frameId]\n                  ? state.data[action.meta.frameId][action.meta.id]\n                  : {}\n              ),\n\n              loading: true,\n              requestStatus: null,\n              error: null,\n            },\n          },\n        },\n      };\n\n    case (actionsTypes.FETCH_SUCCESS):\n      return {\n        ...state,\n        data: {\n          ...state.data,\n\n          [action.meta.frameId]: {\n            ...state.data[action.meta.frameId],\n\n            [action.meta.id]: {\n              ...action.payload,\n              loading: false,\n            },\n          },\n        },\n      };\n\n    case (actionsTypes.FETCH_FAIL):\n      return {\n        ...state,\n\n        data: {\n          ...state.data,\n          [action.meta.frameId]: {\n            ...state.data[action.meta.frameId],\n\n            [action.meta.id]: {\n              error: action.payload.error,\n              requestStatus: action.payload.requestStatus,\n              loading: false,\n            },\n          },\n        },\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({ children }) => (\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\n    {children}\n  </StateContext.Provider>\n);\n\nexport const useStateValue = () => useContext(StateContext);\n","import api from 'api';\nimport {get as _get} from 'lodash-es';\nimport actionsTypes from './actionsTypes';\nimport config from '../../config';\nimport {useStateValue} from './store';\n\nexport default () => {\n    const [, dispatch] = useStateValue();\n\n    const fetchAttachment = async (stack, frameId, id, onSuccess) => {\n        dispatch({\n            type: actionsTypes.FETCH,\n            meta: {frameId, id},\n        });\n\n        try {\n            const request = await api.get(config.STACK_ATTACHMENT(stack, frameId, id));\n\n            dispatch({\n                type: actionsTypes.FETCH_SUCCESS,\n                meta: {frameId, id},\n                payload: request.data.attachment,\n            });\n\n            if (onSuccess)\n                onSuccess();\n        } catch (e) {\n            let error = 'Unknown error';\n\n            try {\n                error = JSON.parse(_get(e, 'request.response')).message;\n            } catch (e) {\n                console.log(error);\n            }\n\n            dispatch({\n                type: actionsTypes.FETCH_FAIL,\n                meta: {frameId, id},\n                payload: {error},\n            });\n        }\n    };\n\n    return {fetchAttachment};\n};\n","import React, {useEffect, useRef, useState} from 'react';\nimport cx from 'classnames';\nimport {get, isEqual} from 'lodash-es';\nimport {useTranslation} from 'react-i18next';\nimport Plot from 'react-plotly.js';\nimport * as CSV from 'csv-string';\nimport Table from './Table';\nimport config from '../../config';\nimport api from '../../api';\nimport {StateProvider} from './store';\nimport {useIntersectionObserver, usePrevious} from 'hooks';\nimport actions from './actions';\nimport {useStateValue} from './store';\nimport {unicodeBase64Decode} from '../../utils';\nimport css from './styles.module.css';\n\ntype Props = {\n    id: number,\n    frameId: string,\n    stack: string,\n    className?: string,\n    withLoader?: boolean,\n}\n\nconst base64ToJSON = (base64: string) => {\n    let parsedJSON;\n\n    try {\n        parsedJSON = JSON.parse(atob(base64));\n    } catch (e) {\n        console.log(e);\n    }\n\n    return parsedJSON;\n};\n\nconst base64ImagePrefixes = {\n    'image/svg+xml': 'data:image/svg+xml;charset=utf-8;',\n    'image/png': 'data:image/png;charset=utf-8;',\n    'image/jpeg': 'data:image/jpeg;charset=utf-8;',\n};\n\nconst isImageType = type => /^image/.test(type);\n\nconst Attachment = ({\n    id,\n    className,\n    frameId,\n    isList,\n    withLoader,\n    stack,\n}: Props) => {\n    const {t} = useTranslation();\n    const {fetchAttachment} = actions();\n    const [{data}] = useStateValue();\n    const {loading, error, requestStatus, ...attachment} = get(data, `${frameId}.${id}`, {});\n    const [tableScale, setTableScale] = useState(1);\n    const [loadingFullAttachment, setLoadingFullAttachment] = useState(false);\n    const [fullAttachment, setFullAttachment] = useState(null);\n    const viewRef = useRef(null);\n    const prevAttachment = usePrevious(attachment);\n\n    useEffect(() => {\n        if (window && isList)\n            window.addEventListener('resize', onResizeCard);\n\n        return () => {\n            if (window && isList)\n                window.removeEventListener('resize', onResizeCard);\n        };\n    }, []);\n\n    const fetchFullAttachment = async () => {\n        setLoadingFullAttachment(true);\n\n        try {\n            const url = config.STACK_ATTACHMENT(stack, frameId, id) + '?download=true';\n            const {data} = await api.get(url);\n\n            setFullAttachment(data.attachment);\n        } catch (e) {\n            console.log(e);\n        }\n\n        setLoadingFullAttachment(false);\n    };\n\n    useEffect(() => {\n        if (!isList && attachment\n            && !isEqual(prevAttachment, attachment)\n            && attachment.preview\n            && isImageType(attachment['content_type'])\n        ) {\n            fetchFullAttachment();\n        }\n    }, [data]);\n\n    useEffect(() => {\n        if (!isList\n            && (typeof id === 'number' && frameId)\n            && ((!attachment.data && !error) || (attachment?.index !== id))\n        ) {\n            fetchAttachment(stack, frameId, id);\n        }\n    }, [id, frameId]);\n\n    const [ref] = useIntersectionObserver(() => {\n        if (isList && !loading && (\n            (!attachment.data && !error)\n            || (attachment.data && attachment.index !== id)\n        ))\n            fetchAttachment(stack, frameId, id);\n    }, {}, [id, frameId, data]);\n\n    useEffect(() => {\n        if (attachment && attachment['application'] === 'bokeh' && Bokeh) {\n            const json = base64ToJSON(attachment.data);\n\n            if (json && document.querySelector(`#bokeh-${frameId}`))\n                Bokeh.embed.embed_item(json, `bokeh-${frameId}`);\n        }\n\n        if (isList)\n            setTimeout(() => onResizeCard(), 10);\n\n    }, [data]);\n\n    const onResizeCard = () => {\n        if (ref.current && viewRef.current) {\n            const containerWidth = ref.current.offsetWidth;\n            const viewWidth = viewRef.current.offsetWidth / tableScale;\n\n            let newScale = containerWidth / viewWidth;\n\n            if (newScale > 1)\n                newScale = 1;\n\n            setTableScale(newScale);\n        }\n    };\n\n    const renderImage = () => {\n        if (!attachment.preview)\n            return (\n                <img\n                    src={`${base64ImagePrefixes[attachment['content_type']]}base64,${attachment.data}`}\n                    alt=\"\"\n                />\n            );\n        else if (fullAttachment) {\n            if (fullAttachment['download_url']) {\n                return (\n                    <img src={fullAttachment['download_url']} alt=\"\"/>\n                );\n            } else\n                return (\n                    <img\n                        src={`${base64ImagePrefixes[attachment['content_type']]}base64,${attachment.data}`}\n                        alt=\"\"\n                    />\n                );\n        }\n\n        return null;\n    };\n\n    const renderCSV = () => {\n        const decodeCSV = unicodeBase64Decode(attachment.data);\n\n        if (decodeCSV) {\n            const data = CSV.parse(decodeCSV);\n\n            if (Array.isArray(data) && data.length)\n                return (\n                    <Table\n                        data={data}\n                    />\n                );\n        }\n\n        return (\n            <div className={css.text}>{t('notSupportedAttachment')}</div>\n        );\n    };\n\n    const renderPlotly = () => {\n        const json = base64ToJSON(attachment.data);\n\n        if (!json)\n            return null;\n\n        json.layout.width = '100%';\n        json.layout.margin = 0;\n        json.layout.autosize = true;\n        json.config = {responsive: true};\n\n        return (\n            <Plot\n                {...json}\n                style={{\n                    width: '100%',\n                    height: '100%',\n                }}\n                useResizeHandler\n            />\n        );\n    };\n\n    const renderBokeh = () => <div id={`bokeh-${frameId}`} />;\n\n    const renderAttachment = () => {\n        if (loading)\n            return null;\n\n        if (requestStatus === 404 && isList)\n            return <div className={css.message}>{t('notFound')}</div>;\n\n        if (requestStatus === 404 && !isList)\n            return <div className={css.text}>{t('noPreview')}</div>;\n\n        if (attachment.preview && isList && isImageType(attachment['content_type']))\n            return <div className={css.message}>{t('noPreview')}</div>;\n\n        switch (true) {\n            case (attachment['content_type'] === 'image/svg+xml'):\n            case (attachment['content_type'] === 'image/png'):\n            case (attachment['content_type'] === 'image/jpeg'):\n                return renderImage();\n\n            case (attachment['content_type'] === 'text/csv'):\n                return renderCSV();\n\n            case (attachment['application'] === 'plotly'):\n                return renderPlotly();\n\n            case (attachment['application'] === 'bokeh'):\n                return renderBokeh();\n\n            case undefined:\n                return null;\n\n            default:\n                return <div className={isList ? css.message : css.text}>{t('notSupportedAttachment')}</div>;\n        }\n    };\n\n    return (\n        <div\n            ref={ref}\n            className={cx(css.attachment, className, {\n                'is-list': isList,\n                loading: loading && withLoader || loadingFullAttachment,\n            })}\n        >\n            <div\n                ref={viewRef}\n                className={cx(css.view, {\n                    'table': (attachment && attachment.data && attachment['content_type'] === 'text/csv'),\n                    'bokeh': (attachment && attachment.data && attachment['application'] === 'bokeh'),\n                })}\n\n                style={\n                    (attachment && attachment['content_type'] === 'text/csv')\n                        ? {transform: `scale(${tableScale})`}\n                        : {}\n                }\n            >\n                {renderAttachment()}\n            </div>\n        </div>\n    );\n};\n\nexport default props => (<StateProvider>\n    <Attachment {...props} />\n</StateProvider>);\n"],"names":["AccessForbidden","children","React","css","forbidden","image","message","Avatar","forwardRef","className","name","color","size","withBorder","onClick","ref","cx","avatar","border","slice","BackButton","Component","props","back","COLORS","white","blue","Spinner","isShown","align","spinner","show","Button","variant","fullWidth","isShowSpinner","button","CheckboxField","value","disabled","appearance","label","onLabel","offLabel","checkbox","__html","wrapper","mark","Copy","copyText","successMessage","buttonTitle","t","useTranslation","isShowMessage","setIsShowMessage","useState","onCLick","copy","setTimeout","icon","CodeViewer","language","fontSize","code","Dropdown","buttonClassName","items","isShow","setIsShow","buttonRef","useRef","dropdownRef","useEffect","document","body","addEventListener","outlineClickHandle","removeEventListener","event","targetElement","target","current","parentNode","onCLickButton","clickStopPropagation","stopPropagation","preventDefault","onCLickItem","item","dropdown","active","offset","menu","map","i","index","title","cloneElement","unicodeBase64Decode","text","decodeData","window","atob","decodeURIComponent","Array","prototype","call","c","charCodeAt","toString","join","e","formatBytes","bytes","decimals","k","dm","sizes","Math","floor","log","parseFloat","pow","toFixed","FileDragnDrop","formats","loading","progressPercent","onChange","inputRef","setActive","selectedFile","setSelectedFile","isDidMount","click","preventStop","onDrop","file","dataTransfer","files","checkAvailableExtension","onDragEnter","onDragLeave","onChangeInput","removeFile","ext","split","pop","isAvailable","length","some","format","dnd","progressBar","progress","width","fileExtend","fileSection","fileName","fileSize","fileRemove","placeholder","Boolean","Loader","loader","grid","pic","section","MarkdownRender","newProps","plugins","RemarkMathPlugin","renderers","math","inlineMath","Modal","dialogClassName","onClose","withCloseButton","onClickByLayer","currentTarget","modal","dialog","close","API_URL","GA_ID","DOCS_URL","LOGIN_URL","VERIFY_EMAIL_URL","USER_DATA_URL","UPDATE_TOKEN_URL","UPDATE_SETTINGS_URL","CHECK_USER","userName","STACKS_LIST","DELETE_STACK","STACK_DETAILS","stack","STACK_FRAME","frameId","STACK_ATTACHMENT","id","STACK_UPDATE","STACK_PUSH","DASHBOARD_LIST","DASHBOARD_DETAILS","DASHBOARD_CREATE","DASHBOARD_UPDATE","DASHBOARD_DELETE","DASHBOARD_CARDS_INSERT","DASHBOARD_CARDS_UPDATE","DASHBOARD_CARDS_DELETE","DISCORD_URL","TWITTER_URL","GITHUB_URL","MEDIUM_URL","CONFIGURE_PYTHON_COMMAND","token","origin","location","CONFIGURE_R_COMMAND","NotFound","help","config","ProgressBar","isActive","globalProgress","setProgress","setWidth","prevIsActive","usePrevious","step","currentProgress","requestFrame","startCalculateProgress","cancelAnimationFrame","onResize","offsetWidth","requestAnimationFrame","calculateProgress","useCallback","round","atan","PI","bar","backgroundSize","TextField","errors","hasErrors","field","input","error","SearchField","showEverything","isDark","clear","onChangeHandle","search","allValue","SelectField","propValue","mode","options","showSearch","indexOf","o","onSelect","onDeselect","renderOptions","CustomHandle","style","left","transform","SliderField","slider","StackFilters","fields","form","filters","Object","keys","key","type","select","isArray","min","max","StretchTitleField","hidden","Tabs","tabs","tab","soon","TextAreaField","textarea","Tooltip","overlayContent","arrowContent","placement","trigger","overlayStyle","tooltip","ViewSwitcher","stateValue","setStateValue","toggleValue","newValue","switcher","Yield","getElementById","Table","data","captions","rows","table","caption","row","cell","instance","axios","create","baseURL","crossDomain","interceptors","request","use","localStorage","getItem","headers","Authorization","response","_get","Promise","reject","FETCH","FETCH_SUCCESS","FETCH_FAIL","initialState","requestStatus","reducer","state","action","actionsTypes","meta","payload","StateContext","createContext","StateProvider","useReducer","useStateValue","useContext","dispatch","fetchAttachment","onSuccess","api","get","attachment","JSON","parse","console","base64ToJSON","base64","parsedJSON","base64ImagePrefixes","isImageType","test","Attachment","isList","withLoader","actions","tableScale","setTableScale","loadingFullAttachment","setLoadingFullAttachment","fullAttachment","setFullAttachment","viewRef","prevAttachment","onResizeCard","fetchFullAttachment","url","isEqual","preview","useIntersectionObserver","Bokeh","json","querySelector","embed","embed_item","containerWidth","viewWidth","newScale","renderImage","renderCSV","decodeCSV","CSV","renderPlotly","layout","margin","autosize","responsive","height","renderBokeh","renderAttachment","undefined","view"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAKA,MAAMA,eAAe,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgB;AACpC,sBACIC;AAAK,IAAA,SAAS,EAAEC,GAAG,CAACC;AAApB,kBACIF;AAAK,IAAA,GAAG,EAAEG,KAAV;AAAiB,IAAA,GAAG,EAAC,EAArB;AAAwB,IAAA,KAAK,EAAC,IAA9B;AAAmC,IAAA,MAAM,EAAC;AAA1C,IADJ,EAGKJ,QAAQ,iBACLC;AAAK,IAAA,SAAS,EAAEC,GAAG,CAACG;AAApB,KACKL,QADL,CAJR,CADJ;AAWH,CAZD;;;;ACQA,MAAMM,MAAM,GAAGC,UAAU,CAAC,CAAC;AAACC,EAAAA,SAAD;AAAYC,EAAAA,IAAZ;AAAkBC,EAAAA,KAAK,EAALA,MAAK,GAAG,QAA1B;AAAoCC,EAAAA,IAAI,EAAJA,KAAI,GAAG,QAA3C;AAAqDC,EAAAA,UAArD;AAAiEC,EAAAA;AAAjE,CAAD,EAAmFC,GAAnF,KAA2F;AACjH,sBACIb;AAAK,IAAA,GAAG,EAAEa,GAAV;AAAe,IAAA,SAAS,EAAEC,EAAE,CAACb,KAAG,CAACc,MAAL,EAAaR,SAAb,EAAwBE,MAAxB,EAA+BC,KAA/B,EAAqC;AAACM,MAAAA,MAAM,EAAEL;AAAT,KAArC,CAA5B;AAAwF,IAAA,OAAO,EAAEC;AAAjG,KACKJ,IAAI,CAACS,KAAL,CAAW,CAAX,EAAc,CAAd,CADL,CADJ;AAKH,CANwB,CAAzB;;;;ACTA,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA,SAAS,EAATA,UAAS,GAAG,QAAb;AAAuBpB,EAAAA,QAAvB;AAAiCQ,EAAAA,SAAjC;AAA4C,KAAGa;AAA/C,CAAD,KAA2D;AAC1E,sBACIpB,6BAAC,UAAD;AAAA,eAAsBc,EAAE,CAACb,KAAG,CAACoB,IAAL,EAAWd,SAAX;AAAxB,KAAmDa,KAAnD,gBACIpB;AAAM,IAAA,SAAS,EAAC;AAAhB,IADJ,EAEKD,QAFL,CADJ;AAMH,CAPD;;;;;;ACCA,MAAMuB,MAAM,GAAG;AACXC,EAAAA,KAAK,EAAE,MADI;AAEXC,EAAAA,IAAI,EAAE;AAFK,CAAf;;AAaA,MAAMC,OAAO,GAAG,CAAC;AAACf,EAAAA,IAAI,EAAJA,KAAI,GAAG,EAAR;AAAYD,EAAAA,KAAK,EAALA,MAAK,GAAG,OAApB;AAA6BiB,EAAAA,OAA7B;AAAsCnB,EAAAA,SAAtC;AAAiDoB,EAAAA;AAAjD,CAAD,KAAoE;AAChF,sBACI3B;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAAC2B,OAAL,EAAcrB,SAAd,EAAyBoB,KAAzB,EAAgC;AAACE,MAAAA,IAAI,EAAEH;AAAP,KAAhC;AAAlB,kBACI1B;AAAK,IAAA,KAAK,EAAEU,KAAZ;AAAkB,IAAA,MAAM,EAAEA,KAA1B;AAAgC,IAAA,OAAO,EAAC,WAAxC;AAAoD,IAAA,IAAI,EAAC,MAAzD;AAAgE,IAAA,KAAK,EAAC;AAAtE,kBAEIV;AACI,IAAA,CAAC,EAAC,wyBADN;AAEI,IAAA,IAAI,EAAC;AAFT,IAFJ,eAQIA,wDACIA;AAAgB,IAAA,EAAE,EAAC,eAAnB;AAAmC,IAAA,EAAE,EAAC,MAAtC;AAA6C,IAAA,EAAE,EAAC,IAAhD;AAAqD,IAAA,EAAE,EAAC,GAAxD;AAA4D,IAAA,EAAE,EAAC,IAA/D;AAAoE,IAAA,aAAa,EAAC;AAAlF,kBACIA;AAAM,IAAA,SAAS,EAAEsB,MAAM,CAACb,MAAD;AAAvB,IADJ,eAEIT;AAAM,IAAA,MAAM,EAAC,GAAb;AAAiB,IAAA,SAAS,EAAEsB,MAAM,CAACb,MAAD,CAAlC;AAA2C,IAAA,WAAW,EAAC;AAAvD,IAFJ,CADJ,CARJ,CADJ,CADJ;AAoBH,CArBD;;ACCA,MAAMqB,MAAY,GAAGxB,UAAU,CAAC,CAC5B;AACIa,EAAAA,SAAS,EAATA,UAAS,GAAG,QADhB;AAEIpB,EAAAA,QAFJ;AAGIQ,EAAAA,SAHJ;AAIIG,EAAAA,IAAI,EAAJA,KAAI,GAAG,QAJX;AAKID,EAAAA,KAAK,EAALA,MAAK,GAAG,SALZ;AAMIsB,EAAAA,OAAO,EAAPA,QAAO,GAAG,SANd;AAOIC,EAAAA,SAAS,EAATA,UAAS,GAAG,KAPhB;AAQIC,EAAAA,aARJ;AASI,KAAGb;AATP,CAD4B,EAa5BP,GAb4B,KAc3B;AACD,sBACIb,6BAAC,UAAD;AAAA,SACSa,GADT;AAAA,eAGQC,EAAE,CAACb,KAAG,CAACiC,MAAL,EAAaxB,KAAb,EAAoB,SAAQD,MAAM,EAAlC,EAAsC,WAAUsB,QAAQ,EAAxD,EAA2DxB,SAA3D,EAAsE;AAAC,oBAAcyB;AAAf,KAAtE;AAHV,KAMQZ,KANR,GAQKa,aAAa,iBAAIjC,6BAAC,OAAD;AAAS,IAAA,SAAS,EAAEC,KAAG,CAAC2B,OAAxB;AAAiC,IAAA,KAAK,EAAC,OAAvC;AAA+C,IAAA,OAAO;AAAtD,IARtB,EASK7B,QATL,CADJ;AAaH,CA5B8B,CAA/B;;;;ACDA,MAAMoC,aAAa,GAAG,CAAC;AACnB5B,EAAAA,SADmB;AAEnB6B,EAAAA,KAFmB;AAGnBC,EAAAA,QAHmB;AAInBC,EAAAA,UAAU,EAAVA,WAAU,GAAG,UAJM;AAKnBX,EAAAA,KAAK,EAALA,MAAK,GAAG,MALW;AAMnBY,EAAAA,KANmB;AAOnBC,EAAAA,OAPmB;AAQnBC,EAAAA,QARmB;AASnB1C,EAAAA,QATmB;AAUnB,KAAGqB;AAVgB,CAAD,KAWT;AACT,sBACIpB;AAAO,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACyC,QAAL,EAAenC,SAAf,EAA0B+B,WAA1B,EAAsCX,MAAtC,EAA6C;AAACU,MAAAA;AAAD,KAA7C;AAApB,kBACIrC,uDACIA;AAAA,UACS,UADT;AAAA,aAEaoC;AAFb,KAGQhB,KAHR,EADJ,EAOKqB,QAAQ,iBAAIzC;AACT,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAAC,cAAD,CAAJ,EAAsB,KAAtB,CADJ;AAET,IAAA,uBAAuB,EAAE;AAAC0C,MAAAA,MAAM,EAAEF;AAAT;AAFhB,IAPjB,eAYIzC;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC2C;AAApB,kBACI5C;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAAC4C,IAAL,EAAW,KAAX,EAAkB,WAAlB,EAA+B;AAAC,sBAAgB,EAAEL,OAAO,IAAIC,QAAb;AAAjB,KAA/B;AAAlB,IADJ,CAZJ,EAgBKD,OAAO,iBAAIxC;AACR,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAAC,cAAD,CAAJ,EAAsB,IAAtB,CADL;AAER,IAAA,uBAAuB,EAAE;AAAC0C,MAAAA,MAAM,EAAEH;AAAT;AAFjB,IAhBhB,EAqBKD,KAAK,iBAAIvC;AAAM,IAAA,SAAS,EAAEC,KAAG,CAACsC;AAArB,KAA6BA,KAA7B,CArBd,CADJ,EAyBKxC,QAzBL,CADJ;AA6BH,CAzCD;;;;ACFA,MAAM+C,IAAI,GAAG,CAAC;AAAC/C,EAAAA,QAAD;AAAWQ,EAAAA,SAAX;AAAsBwC,EAAAA,QAAtB;AAAgCC,EAAAA,cAAhC;AAAgDC,EAAAA;AAAhD,CAAD,KAAyE;AAClF,QAAM;AAACC,IAAAA;AAAD,MAAMC,cAAc,EAA1B;AACA,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCC,QAAQ,CAAC,KAAD,CAAlD;;AAEA,QAAMC,OAAO,GAAG,MAAM;AAClBC,IAAAA,IAAI,CAACT,QAAD,CAAJ;AACAM,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAI,IAAAA,UAAU,CAAC,MAAMJ,gBAAgB,CAAC,KAAD,CAAvB,EAAgC,IAAhC,CAAV;AACH,GAJD;;AAMA,sBAAOrD;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACuD,IAAL,EAAWjD,SAAX;AAAlB,KACFR,QAAQ,GACHA,QAAQ,CAAC;AAACa,IAAAA,OAAO,EAAE2C;AAAV,GAAD,CADL,gBAGDvD;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACiC,MAApB;AAA4B,IAAA,OAAO,EAAEqB;AAArC,kBACIvD;AAAM,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACyD,IAAL,EAAW,sBAAX;AAAnB,IADJ,EAGKT,WAAW,GACNA,WADM,GAENC,CAAC,CAAC,MAAD,CALX,CAJL,eAeHlD;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACG,OAAL,EAAc;AAAC,iBAAWgD;AAAZ,KAAd;AAAlB,KACKJ,cAAc,GACTA,cADS,GAETE,CAAC,CAAC,QAAD,CAHX,CAfG,CAAP;AAsBH,CAhCD;;;;ACCA,MAAMS,UAAU,GAAG,CAAC;AAACpD,EAAAA,SAAD;AAAYqD,EAAAA,QAAZ;AAAsB7D,EAAAA,QAAtB;AAAgC8D,EAAAA;AAAhC,CAAD,KAAsD;AACrE,QAAM;AAACX,IAAAA;AAAD,MAAMC,cAAc,EAA1B;AAEA,sBACInD;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAAC6D,IAAL,EAAWvD,SAAX,EAAsBsD,QAAQ,IAAK,aAAYA,QAAS,EAAxD;AAAlB,kBACI7D,6BAAC,SAAD;AAAW,IAAA,QAAQ,EAAE4D;AAArB,KACK7D,QADL,CADJ,eAKIC,6BAAC,IAAD;AACI,IAAA,SAAS,EAAEC,KAAG,CAACuD,IADnB;AAEI,IAAA,QAAQ,EAAEzD,QAFd;AAGI,IAAA,cAAc,EAAEmD,CAAC,CAAC,iBAAD;AAHrB,IALJ,CADJ;AAaH,CAhBD;;;;ACCA,MAAMa,QAAQ,GAAG,CAAC;AAACxD,EAAAA,SAAD;AAAYyD,EAAAA,eAAZ;AAA6BjE,EAAAA,QAA7B;AAAuCkE,EAAAA;AAAvC,CAAD,KAA0D;AACvE,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,KAAD,CAApC;AACA,QAAMc,SAAS,GAAGC,MAAM,CAAC,IAAD,CAAxB;AACA,QAAMC,WAAW,GAAGD,MAAM,CAAC,IAAD,CAA1B;AAEAE,EAAAA,SAAS,CAAC,MAAM;AACZC,IAAAA,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,EAAwCC,kBAAxC;AACA,WAAO,MAAMH,QAAQ,CAACC,IAAT,CAAcG,mBAAd,CAAkC,OAAlC,EAA2CD,kBAA3C,CAAb;AACH,GAHQ,CAAT;;AAKA,QAAMA,kBAAkB,GAAIE,KAAD,IAA4C;AACnE,QAAIC,aAAa,GAAGD,KAAK,CAACE,MAA1B;;AAEA,OAAG;AACC,UAAID,aAAa,KAAKV,SAAS,CAACY,OAA5B,IAAuCF,aAAa,KAAKR,WAAW,CAACU,OAAzE,EACI;AAEJF,MAAAA,aAAa,GAAGA,aAAa,CAACG,UAA9B;AACH,KALD,QAKSH,aALT;;AAOA,QAAIZ,MAAJ,EACIC,SAAS,CAAC,KAAD,CAAT;AACP,GAZD;;AAcA,QAAMe,aAAa,GAAIL,KAAD,IAA8C;AAChEM,IAAAA,oBAAoB,CAACN,KAAD,CAApB;AACAV,IAAAA,SAAS,CAAC,CAACD,MAAF,CAAT;AACH,GAHD;;AAKA,QAAMiB,oBAAoB,GAAIN,KAAD,IAA8C;AACvEA,IAAAA,KAAK,CAACO,eAAN;AACAP,IAAAA,KAAK,CAACQ,cAAN;AACH,GAHD;;AAKA,QAAMC,WAAW,GAAIC,IAAD,IAAgB,MAAM;AACtCpB,IAAAA,SAAS,CAAC,CAACD,MAAF,CAAT;AAEA,QAAIqB,IAAI,CAAC3E,OAAT,EACI2E,IAAI,CAAC3E,OAAL;AACP,GALD;;AAOA,sBACIZ;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACuF,QAAL,EAAejF,SAAf,EAA0B;AAACkF,MAAAA,MAAM,EAAEvB;AAAT,KAA1B;AAAlB,kBACIlE,6BAAC,SAAD;AACI,IAAA,YAAY,EAAE,IADlB;AAEI,IAAA,OAAO,EAAEkE,MAFb;AAGI,IAAA,SAAS,EAAC,aAHd;AAII,IAAA,oBAAoB,MAJxB;AAKI,IAAA,KAAK,EAAE;AAACwB,MAAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ;AAAT,KALX;AAOI,IAAA,OAAO,eACH1F;AACI,MAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAAC0F,IAAL,EAAW,MAAX,CADjB;AAEI,MAAA,GAAG,EAAErB,WAFT;AAGI,MAAA,OAAO,EAAEa;AAHb,OAKKlB,KAAK,CAAC2B,GAAN,CAAU,CAACC,CAAD,EAAIC,KAAJ,kBAAc9F;AACrB,MAAA,GAAG,EAAE8F,KADgB;AAErB,MAAA,SAAS,EAAE7F,KAAG,CAACsF,IAFM;AAGrB,MAAA,OAAO,EAAED,WAAW,CAACO,CAAD;AAHC,OAKpBA,CAAC,CAACE,KALkB,CAAxB,CALL;AARR,KAuBKhG,QAAQ,GACHC,cAAK,CAACgG,YAAN,CAAmBjG,QAAnB,EAA6B;AAC3Ba,IAAAA,OAAO,EAAEsE,aADkB;AAE3BrE,IAAAA,GAAG,EAAEuD;AAFsB,GAA7B,CADG,gBAKHpE;AAAK,IAAA,GAAG,EAAEoE,SAAV;AAAqB,IAAA,SAAS,EAAEtD,EAAE,CAACb,KAAG,CAACiC,MAAL,EAAa8B,eAAb,CAAlC;AAAiE,IAAA,OAAO,EAAEkB;AAA1E,kBACElF;AAAM,IAAA,SAAS,EAAC;AAAhB,IADF,CA5BV,CADJ,CADJ;AAqCH,CA9ED;;AClBA,MAAMiG,mBAAmB,GAAGC,IAAI,IAAI;AAChC,MAAI;AACA,UAAMC,UAAU,GAAGC,MAAM,CAACC,IAAP,CAAYH,IAAZ,CAAnB;AAEA,WAAOI,kBAAkB,CAACC,KAAK,CAACC,SAAN,CAAgBZ,GAAhB,CAAoBa,IAApB,CAAyBN,UAAzB,EAAqCO,CAAC,IAAI;AAChE,aAAO,MAAM,CAAC,OAAOA,CAAC,CAACC,UAAF,CAAa,CAAb,EAAgBC,QAAhB,CAAyB,EAAzB,CAAR,EAAsC3F,KAAtC,CAA4C,CAAC,CAA7C,CAAb;AACH,KAFyB,EAEvB4F,IAFuB,CAElB,EAFkB,CAAD,CAAzB;AAGH,GAND,CAME,OAAOC,CAAP,EAAU;AACR,WAAO,IAAP;AACH;AACJ,CAVD;;ACAA,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AACrC,MAAID,KAAK,KAAK,CAAd,EAAiB,OAAO,SAAP;AAEjB,MAAIE,CAAC,GAAG,IAAR;AAEA,MAAIC,EAAE,GAAGF,QAAQ,IAAI,CAAZ,GAAgB,CAAhB,GAAoBA,QAAQ,IAAI,CAAzC;AAEA,MAAIG,KAAK,GAAG,CAAC,OAAD,EAAU,IAAV,EAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,EAAkC,IAAlC,EAAwC,IAAxC,EAA8C,IAA9C,EAAoD,IAApD,CAAZ;AAEA,MAAIvB,CAAC,GAAGwB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,GAAL,CAASP,KAAT,IAAkBK,IAAI,CAACE,GAAL,CAASL,CAAT,CAA7B,CAAR;AAEA,SAAOM,UAAU,CAAC,CAACR,KAAK,GAAGK,IAAI,CAACI,GAAL,CAASP,CAAT,EAAYrB,CAAZ,CAAT,EAAyB6B,OAAzB,CAAiCP,EAAjC,CAAD,CAAV,GAAmD,GAAnD,GAAyDC,KAAK,CAACvB,CAAD,CAArE;AACH,CAZD;;;;ACeA,MAAM8B,aAAa,GAAG,CAAC;AACnBC,EAAAA,OADmB;AAEnBrH,EAAAA,SAFmB;AAGnBsH,EAAAA,OAHmB;AAInBC,EAAAA,eAAe,EAAfA,gBAAe,GAAG,IAJC;AAKnBC,EAAAA;AALmB,CAAD,KAMT;AACT,QAAM;AAAC7E,IAAAA;AAAD,MAAMC,cAAc,EAA1B;AACA,QAAM6E,QAAQ,GAAG3D,MAAM,CAAC,IAAD,CAAvB;AACA,QAAM,CAACoB,MAAD,EAASwC,SAAT,IAAsB3E,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAAC4E,YAAD,EAAeC,eAAf,IAAkC7E,QAAQ,EAAhD;AACA,QAAM8E,UAAU,GAAG/D,MAAM,CAAC,IAAD,CAAzB;AAEAE,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAAC6D,UAAU,CAACpD,OAAhB,EAAyB;AACrB,UAAI+C,QAAJ,EACIA,QAAQ,CAACG,YAAD,CAAR;AACP,KAHD,MAIIE,UAAU,CAACpD,OAAX,GAAqB,KAArB;AACP,GANQ,EAMN,CAACkD,YAAD,CANM,CAAT;;AAQA,QAAMtH,OAAO,GAAGiE,KAAK,IAAI;AACrBA,IAAAA,KAAK,CAACQ,cAAN;AAEA,QAAI2C,QAAQ,CAAChD,OAAb,EACIgD,QAAQ,CAAChD,OAAT,CAAiBqD,KAAjB;AACP,GALD;;AAOA,QAAMC,WAAW,GAAGzD,KAAK,IAAI;AACzBA,IAAAA,KAAK,CAACQ,cAAN;AACAR,IAAAA,KAAK,CAACO,eAAN;AACH,GAHD;;AAKA,QAAMmD,MAAM,GAAG1D,KAAK,IAAI;AACpByD,IAAAA,WAAW,CAACzD,KAAD,CAAX;AACAoD,IAAAA,SAAS,CAAC,KAAD,CAAT;AAEA,UAAM,CAACO,IAAD,IAAS3D,KAAK,CAAC4D,YAAN,CAAmBC,KAAlC;AAEA,QAAIF,IAAI,IAAIG,uBAAuB,CAACH,IAAD,CAAnC,EACIL,eAAe,CAACK,IAAD,CAAf;AACP,GARD;;AAUA,QAAMI,WAAW,GAAG/D,KAAK,IAAI;AACzByD,IAAAA,WAAW,CAACzD,KAAD,CAAX;AACAoD,IAAAA,SAAS,CAAC,IAAD,CAAT;AAEH,GAJD;;AAMA,QAAMY,WAAW,GAAGhE,KAAK,IAAI;AACzByD,IAAAA,WAAW,CAACzD,KAAD,CAAX;AACAoD,IAAAA,SAAS,CAAC,KAAD,CAAT;AACH,GAHD;;AAKA,QAAMa,aAAa,GAAGjE,KAAK,IAAI;AAC3B,UAAM,CAAC2D,IAAD,IAAS3D,KAAK,CAACE,MAAN,CAAa2D,KAA5B;AAEA,QAAIF,IAAI,IAAIG,uBAAuB,CAACH,IAAD,CAAnC,EACIL,eAAe,CAACK,IAAD,CAAf;AACP,GALD;;AAOA,QAAMO,UAAU,GAAG,MAAM;AACrBZ,IAAAA,eAAe,CAAC,IAAD,CAAf;AACH,GAFD;;AAIA,QAAMQ,uBAAuB,GAAGH,IAAI,IAAI;AACpC,UAAMQ,GAAG,GAAG,MAAMR,IAAI,CAAChI,IAAL,CAAUyI,KAAV,CAAgB,GAAhB,EAAqBC,GAArB,EAAlB;AAEA,QAAIC,WAAJ;AAEA,QAAIvB,OAAO,IAAIA,OAAO,CAACwB,MAAvB,EACID,WAAW,GAAGvB,OAAO,CAACyB,IAAR,CAAaC,MAAM,IAAI;AACjC,UAAIA,MAAM,KAAK,MAAX,IAAqBA,MAAM,KAAK,OAApC,EACI,OAAON,GAAG,KAAK,MAAR,IAAkBA,GAAG,KAAK,OAAjC,CADJ,KAGI,OAAOM,MAAM,KAAKN,GAAlB;AACP,KALa,CAAd,CADJ,KAQIG,WAAW,GAAG,IAAd;AAEJ,WAAOA,WAAP;AACH,GAhBD;;AAkBA,MAAItB,OAAJ,EACI,oBACI7H;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACsJ,GAAL,EAAUhJ,SAAV,EAAqB;AAACkF,MAAAA;AAAD,KAArB;AAAlB,kBACIzF;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC4H;AAApB,KACK3E,CAAC,CAAC,WAAD,CADN,YAEK,OAAO4E,gBAAP,KAA2B,QAA3B,IAAwC,GAAEA,gBAAgB,GAF/D,CADJ,EAMK,OAAOA,gBAAP,KAA2B,QAA3B,iBACG9H;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACuJ;AAApB,kBACIxJ;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACwJ,QAApB;AAA8B,IAAA,KAAK,EAAE;AAACC,MAAAA,KAAK,EAAG,GAAE5B,gBAAgB;AAA3B;AAArC,IADJ,CAPR,CADJ;AAeJ,MAAII,YAAJ,EACI,oBAAOlI;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACuI,IAAL,EAAWjI,SAAX;AAAlB,kBACHP;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC0J;AAApB,YADG,eAKH3J;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC2J;AAApB,kBACI5J;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC4J;AAApB,KAA+B3B,YAAY,CAAC1H,IAA5C,CADJ,eAEIR;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC6J;AAApB,KAA+B/C,WAAW,CAACmB,YAAY,CAACxH,IAAd,CAA1C,CAFJ,CALG,eAUHV;AAAK,IAAA,OAAO,EAAE+I,UAAd;AAA0B,IAAA,SAAS,EAAEjI,EAAE,CAACb,KAAG,CAAC8J,UAAL,EAAiB,eAAjB;AAAvC,IAVG,CAAP;AAcJ,sBACI/J;AACI,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACsJ,GAAL,EAAUhJ,SAAV,EAAqB;AAACkF,MAAAA;AAAD,KAArB,CADjB;AAEI,IAAA,MAAM,EAAE8C,MAFZ;AAGI,IAAA,WAAW,EAAEK,WAHjB;AAII,IAAA,UAAU,EAAEA,WAJhB;AAKI,IAAA,WAAW,EAAEC;AALjB,kBAOI7I;AACI,IAAA,GAAG,EAAEgI,QADT;AAEI,IAAA,QAAQ,EAAEc,aAFd;AAGI,IAAA,IAAI,EAAC;AAHT,IAPJ,eAaI9I;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC+J;AAApB,KACK9G,CAAC,CAAC,eAAD,CADN,EAEK,EAFL,EAGK+G,OAAO,CAACrC,OAAD,CAAP,IAAqB,IAAGA,OAAO,CAACf,IAAR,CAAa,IAAb,CAAmB,GAHhD,EAIK,GAJL,EAKK3D,CAAC,CAAC,IAAD,CALN,EAMK,GANL,eAOIlD;AAAG,IAAA,OAAO,EAAEY,OAAZ;AAAqB,IAAA,IAAI,EAAC;AAA1B,KAA+BsC,CAAC,CAAC,QAAD,CAAhC,CAPJ,EAQK,GARL,EASKA,CAAC,CAAC,kBAAD,CATN,MAbJ,CADJ;AA2BH,CA7ID;;;;ACRA,MAAMgH,MAAM,GAAG,CAAC,EAAD,KAAe;AAC1B,sBACIlK;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACkK;AAApB,kBACInK;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACiG;AAApB,IADJ,eAGIlG;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACmK;AAApB,kBACIpK;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACsF;AAApB,kBACIvF;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACoK;AAApB,IADJ,eAEIrK;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACqK;AAApB,IAFJ,CADJ,eAMItK;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACsF;AAApB,kBACIvF;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACoK;AAApB,IADJ,eAEIrK;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACqK;AAApB,IAFJ,CANJ,eAWItK;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACsF;AAApB,kBACIvF;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACoK;AAApB,IADJ,eAEIrK;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACqK;AAApB,IAFJ,CAXJ,CAHJ,CADJ;AAsBH,CAvBD;;ACDA,MAAMC,cAAc,GAAGnJ,KAAK,IAAI;AAC5B,QAAMoJ,QAAQ,GAAG,EACb,GAAGpJ,KADU;AAEbqJ,IAAAA,OAAO,EAAE,CACLC,gBADK,CAFI;AAMbC,IAAAA,SAAS,EAAE,EACP,GAAGvJ,KAAK,CAACuJ,SADF;AAEPC,MAAAA,IAAI,EAAExJ,KAAK,iBACPpB,6BAAC,OAAD,CAAS,IAAT;AAAc,QAAA,OAAO,EAAEoB,KAAK,CAACgB;AAA7B,QAHG;AAIPyI,MAAAA,UAAU,EAAEzJ,KAAK,iBACbpB,6BAAC,OAAD,CAAS,IAAT;AAAc,QAAA,MAAM,MAApB;AAAqB,QAAA,OAAO,EAAEoB,KAAK,CAACgB;AAApC;AALG;AANE,GAAjB;AAeA,sBACIpC,6BAAC,OAAD,CAAS,QAAT;AAAkB,IAAA,KAAK,EAAC;AAAxB,kBACIA,6BAAC,aAAD,EAAmBwK,QAAnB,CADJ,CADJ;AAKH,CArBD;;;;ACaA,MAAMM,KAAK,GAAG,CAAC;AACX/E,EAAAA,KADW;AAEXxF,EAAAA,SAFW;AAGXwK,EAAAA,eAHW;AAIXrK,EAAAA,IAAI,EAAJA,KAAI,GAAG,KAJI;AAKXsK,EAAAA,OALW;AAMX9G,EAAAA,MANW;AAOXnE,EAAAA,QAPW;AAQXkL,EAAAA;AARW,CAAD,KASD;AACT,QAAMC,cAAc,GAAGrG,KAAK,IAAI;AAC5B,QAAIA,KAAK,CAACsG,aAAN,KAAwBtG,KAAK,CAACE,MAA9B,IAAwCiG,OAA5C,EACIA,OAAO;AACd,GAHD;;AAKA,sBACIhL,6BAAC,MAAD,qBACIA;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACmL,KAAL,EAAY7K,SAAZ,EAAuB;AAACsB,MAAAA,IAAI,EAAEqC;AAAP,KAAvB,CAAlB;AAA0D,IAAA,OAAO,EAAEgH;AAAnE,kBACIlL;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACoL,MAAL,EAAa3K,KAAb,EAAmBqK,eAAnB;AAAlB,KACKE,eAAe,iBAAIjL;AAAM,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACqL,KAAL,EAAY,eAAZ,CAAnB;AAAiD,IAAA,OAAO,EAAEN;AAA1D,IADxB,EAGKjF,KAAK,iBAAI/F;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC8F;AAApB,KAA4BA,KAA5B,CAHd,EAIKhG,QAJL,CADJ,CADJ,CADJ;AAYH,CA3BD;;ACnBA,aAAe;AAEXwL,EAAAA,OAAO,EAAE,4BAFE;AAIXC,EAAAA,KAAK,EAAE,EAJI;AAKXC,EAAAA,QAAQ,EAAE,uBALC;AAOXC,EAAAA,SAAS,EAAE,cAPA;AAQXC,EAAAA,gBAAgB,EAAE,eARP;AAUXC,EAAAA,aAAa,EAAE,iBAVJ;AAWXC,EAAAA,gBAAgB,EAAE,qBAXP;AAYXC,EAAAA,mBAAmB,EAAE,wBAZV;AAaXC,EAAAA,UAAU,EAAEC,QAAQ,IAAK,iBAAgBA,QAAS,EAbvC;AAeXC,EAAAA,WAAW,EAAED,QAAQ,IAAK,WAAUA,QAAS,EAflC;AAgBXE,EAAAA,YAAY,EAAE,MAAM,gBAhBT;AAiBXC,EAAAA,aAAa,EAAE,CAACH,QAAD,EAAWI,KAAX,KAAsB,WAAUJ,QAAS,IAAGI,KAAM,EAjBtD;AAkBXC,EAAAA,WAAW,EAAE,CAACL,QAAD,EAAWI,KAAX,EAAkBE,OAAlB,KAA+B,WAAUN,QAAS,IAAGI,KAAM,IAAGE,OAAQ,EAlBxE;AAmBXC,EAAAA,gBAAgB,EAAE,CAACH,KAAD,EAAQE,OAAR,EAAiBE,EAAjB,KAAyB,YAAWJ,KAAM,IAAGE,OAAQ,IAAGE,EAAG,EAnBlE;AAoBXC,EAAAA,YAAY,EAAE,gBApBH;AAqBXC,EAAAA,UAAU,EAAE,cArBD;AAuBXC,EAAAA,cAAc,EAAEX,QAAQ,IAAK,eAAcA,QAAS,EAvBzC;AAwBXY,EAAAA,iBAAiB,EAAE,CAACZ,QAAD,EAAWQ,EAAX,KAAmB,eAAcR,QAAS,IAAGQ,EAAG,EAxBxD;AAyBXK,EAAAA,gBAAgB,EAAE,oBAzBP;AA0BXC,EAAAA,gBAAgB,EAAE,oBA1BP;AA2BXC,EAAAA,gBAAgB,EAAE,oBA3BP;AA4BXC,EAAAA,sBAAsB,EAAE,0BA5Bb;AA6BXC,EAAAA,sBAAsB,EAAE,0BA7Bb;AA8BXC,EAAAA,sBAAsB,EAAE,0BA9Bb;AAgCXC,EAAAA,WAAW,EAAE,4BAhCF;AAiCXC,EAAAA,WAAW,EAAE,8BAjCF;AAkCXC,EAAAA,UAAU,EAAE,8BAlCD;AAmCXC,EAAAA,UAAU,EAAE,8BAnCD;AAqCXC,EAAAA,wBAAwB,EAAE,CAACC,KAAK,GAAG,SAAT,EAAoBxB,QAAQ,GAAG,YAA/B,KAAgD;AACtE,UAAMyB,MAAM,GAAGrH,MAAM,GAAGA,MAAM,CAACsH,QAAP,CAAgBD,MAAnB,GAA4B,EAAjD;AAEA,WAAQ,yBAAwBD,KAAM,WAAUxB,QAAS,aAAYyB,MAAO,MAA5E;AACH,GAzCU;AA2CXE,EAAAA,mBAAmB,EAAE,CAACH,KAAK,GAAG,SAAT,EAAoBxB,QAAQ,GAAG,YAA/B,KAAgD;AACjE,UAAMyB,MAAM,GAAGrH,MAAM,GAAGA,MAAM,CAACsH,QAAP,CAAgBD,MAAnB,GAA4B,EAAjD;AAEA,WAAQ,6BAA4BzB,QAAS,eAAcwB,KAAM,uBAA1D,GACA,eAAcC,MAAO,QAD5B;AAEH;AAhDU,CAAf;;;;;;ACOA,MAAMG,QAAQ,GAAG,CAAC;AAAC7N,EAAAA;AAAD,CAAD,KAAgB;AAC7B,QAAM;AAACmD,IAAAA;AAAD,MAAMC,cAAc,EAA1B;AAEA,sBACInD;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC,WAAD;AAAnB,kBACID;AAAK,IAAA,GAAG,EAAEG,OAAV;AAAiB,IAAA,GAAG,EAAC,EAArB;AAAwB,IAAA,KAAK,EAAC,KAA9B;AAAoC,IAAA,MAAM,EAAC;AAA3C,IADJ,EAGKJ,QAAQ,iBACLC;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACG;AAApB,KACKL,QADL,CAJR,eASIC;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC4N;AAApB,KACK3K,CAAC,CAAC,sBAAD,CADN,EAEK,GAFL,eAGIlD;AAAG,IAAA,MAAM,EAAC,QAAV;AAAmB,IAAA,IAAI,EAAE8N,MAAM,CAACV;AAAhC,kBAA6CpN;AAAM,IAAA,SAAS,EAAC;AAAhB,IAA7C,aAHJ,EAIK,IAJL,eAKIA;AAAG,IAAA,MAAM,EAAC,QAAV;AAAmB,IAAA,IAAI,EAAE8N,MAAM,CAACT;AAAhC,kBAA4CrN;AAAM,IAAA,SAAS,EAAC;AAAhB,IAA5C,WALJ,EAMK,GANL,EAOKkD,CAAC,CAAC,IAAD,CAPN,EAQK,GARL,eASIlD;AAAG,IAAA,MAAM,EAAC,QAAV;AAAmB,IAAA,IAAI,EAAE8N,MAAM,CAACX;AAAhC,kBAA6CnN;AAAM,IAAA,SAAS,EAAC;AAAhB,IAA7C,YATJ,CATJ,CADJ;AAuBH,CA1BD;;ACLA,mBAAeoC,KAAK,IAAI;AACpB,QAAMvB,GAAG,GAAGwD,MAAM,CAACjC,KAAD,CAAlB;AAEAmC,EAAAA,SAAS,CAAC,MAAM;AACZ1D,IAAAA,GAAG,CAACmE,OAAJ,GAAc5C,KAAd;AACH,GAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;AAIA,SAAOvB,GAAG,CAACmE,OAAX;AACH,CARD;;;;ACSA,MAAM+I,WAAW,GAAG,CAAC;AAACxN,EAAAA,SAAD;AAAYyN,EAAAA,QAAZ;AAAsBvE,EAAAA,QAAQ,EAAEwE;AAAhC,CAAD,KAA4D;AAC5E,QAAM,CAACxE,QAAD,EAAWyE,WAAX,IAA0B5K,QAAQ,CAAC,CAAD,CAAxC;AACA,QAAM,CAACoG,KAAD,EAAQyE,QAAR,IAAoB7K,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM8K,YAAY,GAAGC,WAAW,CAACL,QAAD,CAAhC;AACA,QAAMM,IAAI,GAAGjK,MAAM,CAAC,IAAD,CAAnB;AACA,QAAMkK,eAAe,GAAGlK,MAAM,CAAC,CAAD,CAA9B;AACA,QAAMmK,YAAY,GAAGnK,MAAM,CAAC,IAAD,CAA3B;AACA,QAAMxD,GAAG,GAAGwD,MAAM,CAAC,IAAD,CAAlB;AAEAE,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIyJ,QAAJ,EAAc;AACVE,MAAAA,WAAW,CAAC,CAAD,CAAX;AACAI,MAAAA,IAAI,CAACtJ,OAAL,GAAe,IAAf;AACAuJ,MAAAA,eAAe,CAACvJ,OAAhB,GAA0B,CAA1B;AACAyJ,MAAAA,sBAAsB;AACzB;;AAED,QAAIL,YAAY,KAAK,IAAjB,IAAyBJ,QAAQ,KAAK,KAA1C,EAAiD;AAC7C,UAAIQ,YAAY,CAACxJ,OAAjB,EACI0J,oBAAoB,CAACF,YAAY,CAACxJ,OAAd,CAApB;AAEJkJ,MAAAA,WAAW,CAAC,GAAD,CAAX;AACAzK,MAAAA,UAAU,CAAC,MAAMyK,WAAW,CAAC,CAAD,CAAlB,EAAuB,GAAvB,CAAV;AACH;;AAED,QAAIF,QAAQ,KAAK,IAAjB,EAAuB;AACnB,UAAIQ,YAAY,CAACxJ,OAAjB,EACI0J,oBAAoB,CAACF,YAAY,CAACxJ,OAAd,CAApB;AAEJkJ,MAAAA,WAAW,CAAC,CAAD,CAAX;AACH;AACJ,GAtBQ,EAsBN,CAACF,QAAD,CAtBM,CAAT;AAwBAzJ,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI0J,cAAc,KAAK,IAAvB,EACIC,WAAW,CAACD,cAAD,CAAX,CADJ,KAEK;AACDC,MAAAA,WAAW,CAAC,CAAD,CAAX;AACH;AACJ,GANQ,EAMN,CAACD,cAAD,CANM,CAAT;AAQA1J,EAAAA,SAAS,CAAC,MAAM;AACZ6B,IAAAA,MAAM,CAAC1B,gBAAP,CAAwB,QAAxB,EAAkCiK,QAAlC;AAEA,QAAI9N,GAAG,CAACmE,OAAR,EACImJ,QAAQ,CAACtN,GAAG,CAACmE,OAAJ,CAAY4J,WAAb,CAAR;AAEJ,WAAO,MAAMxI,MAAM,CAACxB,mBAAP,CAA2B,QAA3B,EAAqC+J,QAArC,CAAb;AACH,GAPQ,EAON,EAPM,CAAT;;AASA,QAAMF,sBAAsB,GAAG,MAAM;AACjCI,IAAAA,qBAAqB,CAACC,iBAAD,CAArB;AACH,GAFD;;AAIA,QAAMA,iBAAiB,GAAGC,WAAW,CAAC,MAAM;AACxCR,IAAAA,eAAe,CAACvJ,OAAhB,IAA2BsJ,IAAI,CAACtJ,OAAhC;AACA,UAAMyE,QAAQ,GAAGpC,IAAI,CAAC2H,KAAL,CAAW3H,IAAI,CAAC4H,IAAL,CAAUV,eAAe,CAACvJ,OAA1B,KAAsCqC,IAAI,CAAC6H,EAAL,GAAU,CAAhD,IAAqD,GAArD,GAA2D,IAAtE,IAA8E,IAA/F;AAEAhB,IAAAA,WAAW,CAACzE,QAAD,CAAX;AAEA,QAAIA,QAAQ,GAAG,EAAf,EACI6E,IAAI,CAACtJ,OAAL,GAAe,KAAf;AAEJ,QAAIyE,QAAQ,IAAI,GAAhB,EACIiF,oBAAoB,CAACF,YAAY,CAACxJ,OAAd,CAApB;AAEJwJ,IAAAA,YAAY,CAACxJ,OAAb,GAAuB6J,qBAAqB,CAACC,iBAAD,CAA5C;AACH,GAboC,EAalC,CAACd,QAAD,CAbkC,CAArC;;AAeA,QAAMW,QAAQ,GAAG,MAAM;AACnB,QAAI9N,GAAG,CAACmE,OAAR,EACImJ,QAAQ,CAACtN,GAAG,CAACmE,OAAJ,CAAY4J,WAAb,CAAR;AACP,GAHD;;AAKA,sBACI5O;AAAK,IAAA,GAAG,EAAEa,GAAV;AAAe,IAAA,SAAS,EAAEC,EAAE,CAACb,KAAG,CAACkP,GAAL,EAAU5O,SAAV;AAA5B,kBACIP;AACI,IAAA,SAAS,EAAEC,KAAG,CAACwJ,QADnB;AAEI,IAAA,KAAK,EAAE;AACHC,MAAAA,KAAK,EAAG,GAAED,QAAS,GADhB;AAEH2F,MAAAA,cAAc,EAAG,GAAE1F,KAAM;AAFtB;AAFX,IADJ,CADJ;AAWH,CArFD;;;;ACCA,MAAM2F,SAAS,GAAG,CAAC;AAAC9M,EAAAA,KAAD;AAAQhC,EAAAA,SAAR;AAAmBG,EAAAA,IAAI,EAAJA,KAAI,GAAG,QAA1B;AAAoC4O,EAAAA,MAAM,EAANA,OAAM,GAAG,EAA7C;AAAiD,KAAGlO;AAApD,CAAD,KAAuE;AACrF,QAAMmO,SAAS,GAAGtF,OAAO,CAACqF,OAAM,CAAClG,MAAR,CAAzB;AAEA,sBACIpJ;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACuP,KAAL,EAAYjP,SAAZ,EAAuBG,KAAvB,EAA6B;AAAC2B,MAAAA,QAAQ,EAAEjB,KAAK,CAACiB;AAAjB,KAA7B;AAAlB,kBACIrC,4CACKuC,KAAK,iBAAIvC;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACsC;AAApB,KAA4BA,KAA5B,CADd,eAGIvC;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACwP;AAApB,kBAEIzP;AAAA,eACec,EAAE,CAAC;AAAC4O,MAAAA,KAAK,EAAEH;AAAR,KAAD;AADjB,KAEQnO,KAFR,EAFJ,CAHJ,EAWKmO,SAAS,iBAAIvP;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACyP;AAApB,KAA4BJ,OAAM,CAACzI,IAAP,CAAY,IAAZ,CAA5B,CAXlB,CADJ,CADJ;AAiBH,CApBD;;;;ACCA,MAAM8I,WAAW,GAAG,CAAC;AAACpP,EAAAA,SAAD;AAAYqP,EAAAA,cAAZ;AAA4BC,EAAAA,MAA5B;AAAoC,KAAGzO;AAAvC,CAAD,KAA0D;AAC1E,QAAM,CAAC8C,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAACsM,cAAc,IAAKxO,KAAK,CAACgB,KAAN,IAAehB,KAAK,CAACgB,KAAN,CAAYgH,MAA/C,CAApC;;AAEA,QAAM0G,KAAK,GAAG,MAAM;AAChB,QAAI1O,KAAK,CAAC2G,QAAV,EACI3G,KAAK,CAAC2G,QAAN,CAAe,EAAf;AAEJ,QAAI,CAAC6H,cAAL,EACIzL,SAAS,CAAC,KAAD,CAAT;AACP,GAND;;AAQA,QAAM4L,cAAc,GAAIlL,KAAD,IAA4C;AAC/D,QAAIzD,KAAK,CAAC2G,QAAV,EACI3G,KAAK,CAAC2G,QAAN,CAAelD,KAAK,CAACE,MAAN,CAAa3C,KAA5B;AACP,GAHD;;AAKA,sBACIpC;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAAC+P,MAAL,EAAazP,SAAb,EAAwB;AAAC,iBAAWsP;AAAZ,KAAxB;AAAlB,KACK3L,MAAM,iBAAIlE,6BAAC,SAAD,oBACHoB,KADG;AAAA,cAEG2O,cAFH;AAAA,eAGI9P,KAAG,CAACuP;AAHR,KADf,EAOKtL,MAAM,IAAI+F,OAAO,CAAC7I,KAAK,CAACgB,KAAN,IAAehB,KAAK,CAACgB,KAAN,CAAYgH,MAA5B,CAAjB,iBACGpJ;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC6P,KAApB;AAA2B,IAAA,OAAO,EAAEA;AAApC,kBACI9P;AAAM,IAAA,SAAS,EAAC;AAAhB,IADJ,CARR,EAaKkE,MAAM,IAAI,CAAC+F,OAAO,CAAC7I,KAAK,CAACgB,KAAN,IAAehB,KAAK,CAACgB,KAAN,CAAYgH,MAA5B,CAAlB,iBACGpJ;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC6P;AAApB,kBACI9P;AAAM,IAAA,SAAS,EAAC;AAAhB,IADJ,CAdR,EAmBK,CAACkE,MAAD,iBAAWlE;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACiC,MAApB;AAA4B,IAAA,OAAO,EAAE,MAAMiC,SAAS,CAAC,IAAD;AAApD,kBACRnE;AAAM,IAAA,SAAS,EAAC;AAAhB,IADQ,CAnBhB,CADJ;AAyBH,CAzCD;;;;ACJA,MAAMiQ,QAAQ,GAAG,KAAjB;;AAkBA,MAAMC,WAAW,GAAG,CAAC;AACjBvO,EAAAA,KAAK,EAALA,MAAK,GAAG,MADS;AAEjBY,EAAAA,KAFiB;AAGjBF,EAAAA,QAHiB;AAIjB2H,EAAAA,WAJiB;AAKjB5H,EAAAA,KAAK,EAAE+N,SAAS,GAAG,EALF;AAMjB5P,EAAAA,SANiB;AAOjB6P,EAAAA,IAPiB;AAQjBrI,EAAAA,QARiB;AASjBsI,EAAAA,OAAO,EAAPA,QAAO,GAAG,EATO;AAUjBC,EAAAA,UAAU,EAAVA,WAAU,GAAG,IAVI;AAWjB,KAAGlP;AAXc,CAAD,KAYP;AACT,QAAM2O,cAAc,GAAI3N,KAAD,IAA0B;AAC7C,QAAIA,KAAK,CAACmO,OAAN,CAAcN,QAAd,KAA2B,CAA/B,EACI,IAAI7N,KAAK,CAACgH,MAAN,GAAeiH,QAAO,CAACjH,MAA3B,EACIhH,KAAK,GAAG,EAAR,CADJ,KAGIA,KAAK,GAAGiO,QAAO,CAACzK,GAAR,CAAY4K,CAAC,IAAIA,CAAC,CAACpO,KAAnB,CAAR;AAER,QAAI2F,QAAJ,EACIA,QAAQ,CAAC3F,KAAD,CAAR;AACP,GATD;;AAWA,QAAMqO,QAAQ,GAAG,MAAM,EAAvB;;AAEA,QAAMC,UAAU,GAAG,MAAM,EAAzB;;AAEA,QAAMC,aAAa,GAAG,MAAMN,QAAO,CAACzK,GAAR,CAAY,CAAC;AAACxD,IAAAA,KAAD;AAAQG,IAAAA;AAAR,GAAD,kBACpCvC,6BAAC,MAAD;AAAQ,IAAA,GAAG,EAAEoC,KAAb;AAAoB,IAAA,KAAK,EAAEA;AAA3B,KACKgO,IAAI,KAAK,UAAT,iBAAuBpQ,6BAAC,aAAD;AACpB,IAAA,QAAQ,MADY;AAEpB,IAAA,SAAS,EAAC,mCAFU;AAGpB,IAAA,KAAK,EAAEmQ,SAAS,CAACI,OAAV,CAAkBnO,KAAlB,KAA4B;AAHf,IAD5B,eAOIpC;AAAM,IAAA,SAAS,EAAC;AAAhB,KAAkDuC,KAAlD,CAPJ,CADwB,CAA5B;;AAYA,sBACIvC;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACuP,KAAL,EAAYjP,SAAZ,EAAuBoB,MAAvB,EAA8B;AAACU,MAAAA;AAAD,KAA9B;AAAlB,kBACIrC,6BAAC,MAAD;AAAA,WACWmQ,SADX;AAAA,eAIc,cAJd;AAAA,cAKcC,IAAI,KAAK,UALvB;AAAA;AAAA,gBAOgBE,WAPhB;AAAA,cAQcG,QARd;AAAA,gBASgBC,UAThB;AAAA,iBAUiB1G,WAVjB;AAAA,cAWc+F,cAXd;AAAA,4BAYe/P;AAAM,MAAA,SAAS,EAAC;AAAhB;AAZf,KAaQoB,KAbR,GAeKiP,QAAO,CAACjH,MAAR,IAAkBgH,IAAI,KAAK,UAA3B,iBAAyCpQ,6BAAC,MAAD;AAAQ,IAAA,GAAG,EAAEiQ,QAAb;AAAuB,IAAA,KAAK,EAAEA;AAA9B,kBACtCjQ,6BAAC,aAAD;AACI,IAAA,QAAQ,MADZ;AAEI,IAAA,SAAS,EAAC,mCAFd;AAGI,IAAA,KAAK,EAAEmQ,SAAS,CAAC/G,MAAV,KAAqBiH,QAAO,CAACjH;AAHxC,IADsC,eAOtCpJ;AAAM,IAAA,SAAS,EAAC;AAAhB,kBAPsC,CAf9C,EAyBKoQ,IAAI,KAAK,UAAT,gBACKpQ,6BAAC,QAAD,QAAW2Q,aAAa,EAAxB,CADL,GAEKA,aAAa,EA3BvB,CADJ,EAgCKpO,KAAK,iBAAIvC;AAAO,IAAA,SAAS,EAAEC,KAAG,CAACsC;AAAtB,KAA8BA,KAA9B,CAhCd,CADJ;AAoCH,CA5ED;;;;ACZA,MAAMqO,YAAY,GAAGxP,KAAK,IAAI;AAC1B,QAAMyP,KAAK,GAAG;AACVC,IAAAA,IAAI,EAAE1P,KAAK,CAACsE,MAAN,GAAe,GADX;AAEVqL,IAAAA,SAAS,EAAE;AAFD,GAAd;AAKA,sBACI/Q;AAAK,IAAA,SAAS,EAAEoB,KAAK,CAACb,SAAtB;AAAiC,IAAA,GAAG,EAAEa,KAAK,CAAC0E,KAA5C;AAAmD,IAAA,KAAK,EAAE+K,KAA1D;AAAiE,kBAAYzP,KAAK,CAACgB;AAAnF,IADJ;AAGH,CATD;;AAWA,MAAM4O,WAAW,GAAG,CAAC;AAACzQ,EAAAA,SAAD;AAAY8B,EAAAA,QAAZ;AAAsBE,EAAAA,KAAtB;AAA6BwF,EAAAA,QAA7B;AAAuCvH,EAAAA,IAAvC;AAA6CmB,EAAAA,KAAK,EAALA,MAAK,GAAG,MAArD;AAA6D,KAAGP;AAAhE,CAAD,KAAmF;AACnG,QAAM2O,cAAc,GAAG3N,KAAK,IAAI;AAC5B,QAAI2F,QAAJ,EACIA,QAAQ,CAAC;AACLhD,MAAAA,MAAM,EAAE;AACJ3C,QAAAA,KADI;AAEJ5B,QAAAA;AAFI;AADH,KAAD,CAAR;AAMP,GARD;;AAUA,sBACIR;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACuP,KAAL,EAAYjP,SAAZ,EAAuBoB,MAAvB,EAA8B;AAACU,MAAAA;AAAD,KAA9B;AAAlB,kBACIrC;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACgR;AAApB,kBACIjR,6BAAC,MAAD;AAAA,cACc+P,cADd;AAAA,kBAEkB3N,KAAK,IAAK,IAAGA,KAAM,EAFrC;AAAA,YAGYwO;AAHZ,KAIQxP,KAJR,EADJ,CADJ,EAUKmB,KAAK,iBAAIvC;AAAM,IAAA,SAAS,EAAEC,KAAG,CAACsC;AAArB,KAA6BA,KAA7B,CAVd,CADJ;AAcH,CAzBD;;;;ACXA,MAAM2O,YAAY,GAAG,CAAC;AAAC3Q,EAAAA,SAAD;AAAY4Q,EAAAA,MAAZ;AAAoBC,EAAAA,IAApB;AAA0BrJ,EAAAA;AAA1B,CAAD,KAAgD;AACjE,sBACI/H;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACoR,OAAL,EAAc9Q,SAAd;AAAlB,KACK+Q,MAAM,CAACC,IAAP,CAAYJ,MAAZ,EAAoBvL,GAApB,CAAwB4L,GAAG,IAAI;AAC5B,YAAQL,MAAM,CAACK,GAAD,CAAN,CAAYC,IAApB;AACI,WAAK,QAAL;AACI,4BAAOzR,6BAAC,WAAD;AACH,UAAA,GAAG,EAAG,UAASwR,GAAI,EADhB;AAEH,UAAA,KAAK,EAAC,QAFH;AAGH,UAAA,SAAS,EAAE1Q,EAAE,CAACb,KAAG,CAACuP,KAAL,EAAYvP,KAAG,CAACyR,MAAhB,CAHV;AAIH,UAAA,QAAQ,EAAEtP,KAAK,IAAI2F,QAAQ,CAACyJ,GAAD,EAAMpP,KAAN,CAJxB;AAKH,UAAA,KAAK,EAAEoP,GALJ;AAMH,UAAA,IAAI,EAAEA,GANH;AAOH,UAAA,OAAO,EAAEL,MAAM,CAACK,GAAD,CAAN,CAAYnB,OAPlB;AAQH,UAAA,KAAK,EAAE9J,KAAK,CAACoL,OAAN,CAAcP,IAAI,CAACI,GAAD,CAAlB,IAA2BJ,IAAI,CAACI,GAAD,CAA/B,GAAuC,CAACJ,IAAI,CAACI,GAAD,CAAL;AAR3C,UAAP;;AAWJ,WAAK,UAAL;AACI,4BAAOxR,6BAAC,aAAD;AACH,UAAA,GAAG,EAAG,YAAWwR,GAAI,EADlB;AAEH,UAAA,SAAS,EAAEvR,KAAG,CAACuP,KAFZ;AAGH,UAAA,QAAQ,EAAEzH,QAHP;AAIH,UAAA,KAAK,EAAEyJ,GAJJ;AAKH,UAAA,IAAI,EAAEA,GALH;AAMH,UAAA,KAAK,EAAEJ,IAAI,CAACI,GAAD;AANR,UAAP;;AASJ,WAAK,QAAL;AACI,4BAAOxR,6BAAC,WAAD;AACH,UAAA,GAAG,EAAG,UAASwR,GAAI,EADhB;AAEH,UAAA,SAAS,EAAEvR,KAAG,CAACuP,KAFZ;AAGH,UAAA,QAAQ,EAAEzH,QAHP;AAIH,UAAA,KAAK,EAAC,OAJH;AAKH,UAAA,KAAK,EAAEyJ,GALJ;AAMH,UAAA,IAAI,EAAEA,GANH;AAOH,UAAA,KAAK,EAAEJ,IAAI,CAACI,GAAD,CAPR;AAQH,UAAA,IAAI,EAAE,IARH;AASH,UAAA,GAAG,EAAEL,MAAM,CAACK,GAAD,CAAN,CAAYI,GATd;AAUH,UAAA,GAAG,EAAET,MAAM,CAACK,GAAD,CAAN,CAAYK,GAVd;AAWH,UAAA,KAAK,EAAEV,MAAM,CAACK,GAAD,CAAN,CAAYnB;AAXhB,UAAP;;AAcJ;AACI,eAAO,IAAP;AAvCR;AAyCH,GA1CA,CADL,CADJ;AA+CH,CAhDD;;;;ACJA,MAAMyB,iBAAiB,GAAG,CAAC;AACvB1P,EAAAA,KADuB;AAEvB4H,EAAAA,WAAW,EAAXA,YAAW,GAAG,EAFS;AAGvBzJ,EAAAA,SAHuB;AAIvB,KAAGa;AAJoB,CAAD,KAKb;AACT,sBACIpB;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACuP,KAAL,EAAYjP,SAAZ;AAAlB,kBACIP;AAAA,UACS,MADT;AAAA,iBAEiBgK,YAFjB;AAAA,WAGW5H;AAHX,KAIQhB,KAJR,EADJ,eAQIpB;AAAK,IAAA,SAAS,EAAEC,KAAG,CAAC8R;AAApB,KACK3P,KAAK,CAACgH,MAAN,GAAehH,KAAf,GAAuB4H,YAD5B,CARJ,CADJ;AAcH,CApBD;;;;ACSA,MAAMgI,IAAI,GAAG,CAAC;AAACzR,EAAAA,SAAD;AAAY6B,EAAAA,KAAZ;AAAmB6P,EAAAA,IAAnB;AAAyBlK,EAAAA;AAAzB,CAAD,KAA+C;AACxD,QAAM;AAAC7E,IAAAA;AAAD,MAAMC,cAAc,EAA1B;AAEA,sBACInD;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACgS,IAAL,EAAW1R,SAAX;AAAlB,KACK0R,IAAI,CAACrM,GAAL,CAAS,CAACC,CAAD,EAAIC,KAAJ,kBACN9F;AACI,IAAA,GAAG,EAAE8F,KADT;AAEI,IAAA,SAAS,EAAEhF,EAAE,CAACb,KAAG,CAACiS,GAAL,EAAU;AAACzM,MAAAA,MAAM,EAAErD,KAAK,KAAKyD,CAAC,CAACzD;AAArB,KAAV,CAFjB;AAGI,IAAA,OAAO,EAAE,MAAM2F,QAAQ,CAAClC,CAAC,CAACzD,KAAH;AAH3B,KAKKyD,CAAC,CAACtD,KALP,EAMKsD,CAAC,CAACsM,IAAF,iBAAUnS;AAAM,IAAA,SAAS,EAAEC,KAAG,CAACkS;AAArB,KAA4BjP,CAAC,CAAC,MAAD,CAA7B,CANf,CADH,CADL,CADJ;AAcH,CAjBD;;;;ACRA,MAAMkP,aAAa,GAAG,CAAC;AAAC7P,EAAAA,KAAD;AAAQhC,EAAAA,SAAR;AAAmBG,EAAAA,IAAI,EAAJA,KAAI,GAAG,QAA1B;AAAoC4O,EAAAA,MAAM,EAANA,OAAM,GAAG,EAA7C;AAAiD,KAAGlO;AAApD,CAAD,KAAuE;AACzF,QAAMmO,SAAS,GAAGtF,OAAO,CAACqF,OAAM,CAAClG,MAAR,CAAzB;AAEA,sBACIpJ;AAAK,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACuP,KAAL,EAAYjP,SAAZ,EAAuBG,KAAvB,EAA6B;AAAC2B,MAAAA,QAAQ,EAAEjB,KAAK,CAACiB;AAAjB,KAA7B;AAAlB,kBACIrC,4CACKuC,KAAK,iBAAIvC;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACsC;AAApB,KAA4BA,KAA5B,CADd,eAGIvC;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACoS;AAApB,kBAEIrS;AAAA,eACec,EAAE,CAAC;AAAC4O,MAAAA,KAAK,EAAEH;AAAR,KAAD;AADjB,KAEQnO,KAFR,EAFJ,CAHJ,EAWKmO,SAAS,iBAAIvP;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACyP;AAApB,KAA4BJ,OAAM,CAACzI,IAAP,CAAY,IAAZ,CAA5B,CAXlB,CADJ,CADJ;AAiBH,CApBD;;;;ACDA,MAAMyL,OAAO,GAAG,CAAC;AACbvS,EAAAA,QADa;AAEbwS,EAAAA,cAFa;AAGbC,EAAAA,YAAY,EAAZA,aAAY,GAAG,IAHF;AAIbC,EAAAA,SAAS,EAATA,UAAS,GAAG,YAJC;AAKbC,EAAAA,OAAO,EAAPA,QAAO,GAAG,CAAC,OAAD,CALG;AAMbC,EAAAA,YAAY,EAAZA,aAAY,GAAG;AAAC,sBAAkB;AAAnB,GANF;AAOb,KAAGvR;AAPU,CAAD,KAQH;AAET,sBACIpB,6BAAC,SAAD;AAAA,kBACkB2S,aADlB;AAAA,kBAEkBH,aAFlB;AAAA,eAGeC,UAHf;AAAA,aAIaC,QAJb;AAAA,0BAMQ1S;AAAK,MAAA,SAAS,EAAEC,KAAG,CAAC2S;AAApB,OAA8BL,cAA9B;AANR,KAQQnR,KARR,GAUKrB,QAVL,CADJ;AAcH,CAxBD;;;;ACAA,MAAM8S,YAAY,GAAG,CAAC;AAACzQ,EAAAA,KAAK,EAALA,MAAK,GAAG,MAAT;AAAiB2F,EAAAA,QAAjB;AAA2BxH,EAAAA;AAA3B,CAAD,KAAkD;AACnE,QAAM,CAACuS,UAAD,EAAaC,aAAb,IAA8BzP,QAAQ,CAAClB,MAAD,CAA5C;AAEAmC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAInC,MAAK,KAAK0Q,UAAd,EACIC,aAAa,CAAC3Q,MAAD,CAAb;AAEP,GAJQ,EAIN,CAACA,MAAD,CAJM,CAAT;;AAMA,QAAM4Q,WAAW,GAAG,MAAM;AACtB,UAAMC,QAAQ,GAAGH,UAAU,KAAK,MAAf,GAAwB,MAAxB,GAAiC,MAAlD;AAEAC,IAAAA,aAAa,CAACE,QAAD,CAAb;AAEA,QAAIlL,QAAJ,EACIA,QAAQ,CAACkL,QAAD,CAAR;AACP,GAPD;;AASA,sBACIjT;AACI,IAAA,SAAS,EAAEc,EAAE,CAACb,KAAG,CAACiT,QAAL,EAAeJ,UAAf,EAA2BvS,SAA3B,CADjB;AAEI,IAAA,OAAO,EAAEyS;AAFb,kBAIIhT;AAAM,IAAA,SAAS,EAAC;AAAhB,IAJJ,eAKIA;AAAM,IAAA,SAAS,EAAC;AAAhB,IALJ,CADJ;AASH,CA3BD;;ACRA,MAAMmT,KAAK,GAAG,CAAC;AAAC3S,EAAAA,IAAD;AAAOD,EAAAA,SAAP;AAAkBR,EAAAA;AAAlB,CAAD,KAAiC;AAC3C,MAAI,CAACS,IAAL,EACI,OAAO,IAAP;AAEJ,MAAIT,QAAJ,EACI,oBACIC,6BAAC,MAAD;AAAQ,IAAA,IAAI,EAAEwE,QAAQ,IAAIA,QAAQ,CAAC4O,cAAT,CAAwB5S,IAAxB;AAA1B,KACKT,QADL,CADJ;AAMJ,sBACIC;AAAK,IAAA,SAAS,EAAEO,SAAhB;AAA2B,IAAA,EAAE,EAAEC;AAA/B,IADJ;AAGH,CAdD;;;;ACKA,MAAM6S,KAAK,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAmB;AAC7B,QAAM,CAACC,QAAD,EAAW,GAAGC,IAAd,IAAsBF,IAA5B;AAEA,sBACItT;AAAK,IAAA,SAAS,EAAEC,KAAG,CAACwT;AAApB,kBACIzT,yDACIA,yDACIA,yCACKuT,QAAQ,CAAC3N,GAAT,CAAa8N,OAAO,iBACjB1T;AAAI,IAAA,GAAG,EAAE0T;AAAT,KAAmBA,OAAnB,CADH,CADL,CADJ,CADJ,eASI1T,4CACKwT,IAAI,CAAC5N,GAAL,CAAS,CAAC+N,GAAD,EAAM7N,KAAN,kBACN9F;AAAI,IAAA,GAAG,EAAE8F;AAAT,KACK6N,GAAG,CAAC/N,GAAJ,CAAQ,CAACgO,IAAD,EAAO/N,CAAP,kBACL7F;AAAI,IAAA,GAAG,EAAE6F;AAAT,KAAa+N,IAAb,CADH,CADL,CADH,CADL,CATJ,CADJ,CADJ;AAuBH,CA1BD;;ACFA,MAAMC,QAAQ,GAAGC,KAAK,CAACC,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAElG,MAAM,CAACvC,OADU;AAE1B0I,EAAAA,WAAW,EAAE;AAFa,CAAb,CAAjB;AAKAJ,QAAQ,CAACK,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkCtG,MAAM,IAAI;AACxC,QAAMN,KAAK,GAAG6G,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEAxG,EAAAA,MAAM,CAACyG,OAAP,CAAeC,aAAf,GAA+BhH,KAAK,GAAI,UAASA,KAAM,EAAnB,GAAuB,EAA3D;AACA,SAAOM,MAAP;AACH,CALD;AAOA+F,QAAQ,CAACK,YAAT,CAAsBO,QAAtB,CAA+BL,GAA/B,CACIK,QAAQ,IAAI;AACR,SAAOA,QAAP;AACH,CAHL,EAII/E,KAAK,IAAI;AACL,MAAIgF,GAAI,CAAChF,KAAD,EAAQ,iBAAR,EAA2B,IAA3B,CAAJ,KAAyC,GAA7C,EAAkD;AAC9C,WAAOiF,OAAO,CAACC,MAAR,CAAelF,KAAK,CAAC+E,QAArB,CAAP;AACH,GAFD,MAEO,IAAIC,GAAI,CAAChF,KAAD,EAAQ,iBAAR,EAA2B,IAA3B,CAAJ,KAAyC,GAA7C,EAAkD;AACrD,WAAOiF,OAAO,CAACC,MAAR,CAAelF,KAAK,CAAC+E,QAArB,CAAP;AACH,GAFM,MAEA;AACH,WAAOE,OAAO,CAACC,MAAR,CAAelF,KAAf,CAAP;AACH;AACJ,CAZL;;AClBA,mBAAe;AACXmF,EAAAA,KAAK,EAAE,0BADI;AAEXC,EAAAA,aAAa,EAAE,kCAFJ;AAGXC,EAAAA,UAAU,EAAE;AAHD,CAAf;;ACGA,MAAMC,YAAY,GAAG;AACnB1B,EAAAA,IAAI,EAAE,EADa;AAEnBhE,EAAAA,MAAM,EAAE,EAFW;AAGnB2F,EAAAA,aAAa,EAAE;AAHI,CAArB;AAMA,AAAO,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGH,YAAT,EAAuBI,MAAvB,KAAkC;AACvD,UAAQA,MAAM,CAAC3D,IAAf;AACE,SAAM4D,YAAY,CAACR,KAAnB;AACE,aAAO,EACL,GAAGM,KADE;AAEL7B,QAAAA,IAAI,EAAE,EACJ,GAAG6B,KAAK,CAAC7B,IADL;AAEJ,WAAC8B,MAAM,CAACE,IAAP,CAAYhJ,OAAb,GAAuB,EACrB,GAAG6I,KAAK,CAAC7B,IAAN,CAAW8B,MAAM,CAACE,IAAP,CAAYhJ,OAAvB,CADkB;AAGrB,aAAC8I,MAAM,CAACE,IAAP,CAAY9I,EAAb,GAAkB,EAChB,IACE2I,KAAK,CAAC7B,IAAN,CAAW8B,MAAM,CAACE,IAAP,CAAYhJ,OAAvB,IACI6I,KAAK,CAAC7B,IAAN,CAAW8B,MAAM,CAACE,IAAP,CAAYhJ,OAAvB,EAAgC8I,MAAM,CAACE,IAAP,CAAY9I,EAA5C,CADJ,GAEI,EAHN,CADgB;AAOhB3E,cAAAA,OAAO,EAAE,IAPO;AAQhBoN,cAAAA,aAAa,EAAE,IARC;AAShBvF,cAAAA,KAAK,EAAE;AATS;AAHG;AAFnB;AAFD,OAAP;;AAsBF,SAAM2F,YAAY,CAACP,aAAnB;AACE,aAAO,EACL,GAAGK,KADE;AAEL7B,QAAAA,IAAI,EAAE,EACJ,GAAG6B,KAAK,CAAC7B,IADL;AAGJ,WAAC8B,MAAM,CAACE,IAAP,CAAYhJ,OAAb,GAAuB,EACrB,GAAG6I,KAAK,CAAC7B,IAAN,CAAW8B,MAAM,CAACE,IAAP,CAAYhJ,OAAvB,CADkB;AAGrB,aAAC8I,MAAM,CAACE,IAAP,CAAY9I,EAAb,GAAkB,EAChB,GAAG4I,MAAM,CAACG,OADM;AAEhB1N,cAAAA,OAAO,EAAE;AAFO;AAHG;AAHnB;AAFD,OAAP;;AAgBF,SAAMwN,YAAY,CAACN,UAAnB;AACE,aAAO,EACL,GAAGI,KADE;AAGL7B,QAAAA,IAAI,EAAE,EACJ,GAAG6B,KAAK,CAAC7B,IADL;AAEJ,WAAC8B,MAAM,CAACE,IAAP,CAAYhJ,OAAb,GAAuB,EACrB,GAAG6I,KAAK,CAAC7B,IAAN,CAAW8B,MAAM,CAACE,IAAP,CAAYhJ,OAAvB,CADkB;AAGrB,aAAC8I,MAAM,CAACE,IAAP,CAAY9I,EAAb,GAAkB;AAChBkD,cAAAA,KAAK,EAAE0F,MAAM,CAACG,OAAP,CAAe7F,KADN;AAEhBuF,cAAAA,aAAa,EAAEG,MAAM,CAACG,OAAP,CAAeN,aAFd;AAGhBpN,cAAAA,OAAO,EAAE;AAHO;AAHG;AAFnB;AAHD,OAAP;;AAiBF;AACE,aAAOsN,KAAP;AA5DJ;AA8DD,CA/DM;AAiEP,AAAO,MAAMK,YAAY,GAAGC,aAAa,EAAlC;AAEP,AAAO,MAAMC,aAAa,GAAG,CAAC;AAAE3V,EAAAA;AAAF,CAAD,kBAC3BC,6BAAC,YAAD,CAAc,QAAd;AAAuB,EAAA,KAAK,EAAE2V,UAAU,CAACT,OAAD,EAAUF,YAAV;AAAxC,GACGjV,QADH,CADK;AAMP,AAAO,MAAM6V,aAAa,GAAG,MAAMC,UAAU,CAACL,YAAD,CAAtC;;AC5EP,eAAe,MAAM;AACjB,QAAM,GAAGM,QAAH,IAAeF,aAAa,EAAlC;;AAEA,QAAMG,eAAe,GAAG,OAAO3J,KAAP,EAAcE,OAAd,EAAuBE,EAAvB,EAA2BwJ,SAA3B,KAAyC;AAC7DF,IAAAA,QAAQ,CAAC;AACLrE,MAAAA,IAAI,EAAE4D,YAAY,CAACR,KADd;AAELS,MAAAA,IAAI,EAAE;AAAChJ,QAAAA,OAAD;AAAUE,QAAAA;AAAV;AAFD,KAAD,CAAR;;AAKA,QAAI;AACA,YAAM2H,OAAO,GAAG,MAAM8B,GAAG,CAACC,GAAJ,CAAQpI,MAAM,CAACvB,gBAAP,CAAwBH,KAAxB,EAA+BE,OAA/B,EAAwCE,EAAxC,CAAR,CAAtB;AAEAsJ,MAAAA,QAAQ,CAAC;AACLrE,QAAAA,IAAI,EAAE4D,YAAY,CAACP,aADd;AAELQ,QAAAA,IAAI,EAAE;AAAChJ,UAAAA,OAAD;AAAUE,UAAAA;AAAV,SAFD;AAGL+I,QAAAA,OAAO,EAAEpB,OAAO,CAACb,IAAR,CAAa6C;AAHjB,OAAD,CAAR;AAMA,UAAIH,SAAJ,EACIA,SAAS;AAChB,KAXD,CAWE,OAAOlP,CAAP,EAAU;AACR,UAAI4I,KAAK,GAAG,eAAZ;;AAEA,UAAI;AACAA,QAAAA,KAAK,GAAG0G,IAAI,CAACC,KAAL,CAAW3B,GAAI,CAAC5N,CAAD,EAAI,kBAAJ,CAAf,EAAwC1G,OAAhD;AACH,OAFD,CAEE,OAAO0G,CAAP,EAAU;AACRwP,QAAAA,OAAO,CAAC/O,GAAR,CAAYmI,KAAZ;AACH;;AAEDoG,MAAAA,QAAQ,CAAC;AACLrE,QAAAA,IAAI,EAAE4D,YAAY,CAACN,UADd;AAELO,QAAAA,IAAI,EAAE;AAAChJ,UAAAA,OAAD;AAAUE,UAAAA;AAAV,SAFD;AAGL+I,QAAAA,OAAO,EAAE;AAAC7F,UAAAA;AAAD;AAHJ,OAAD,CAAR;AAKH;AACJ,GAhCD;;AAkCA,SAAO;AAACqG,IAAAA;AAAD,GAAP;AACH,CAtCD;;;;ACkBA,MAAMQ,YAAY,GAAIC,MAAD,IAAoB;AACrC,MAAIC,UAAJ;;AAEA,MAAI;AACAA,IAAAA,UAAU,GAAGL,IAAI,CAACC,KAAL,CAAWhQ,IAAI,CAACmQ,MAAD,CAAf,CAAb;AACH,GAFD,CAEE,OAAO1P,CAAP,EAAU;AACRwP,IAAAA,OAAO,CAAC/O,GAAR,CAAYT,CAAZ;AACH;;AAED,SAAO2P,UAAP;AACH,CAVD;;AAYA,MAAMC,mBAAmB,GAAG;AACxB,mBAAiB,mCADO;AAExB,eAAa,+BAFW;AAGxB,gBAAc;AAHU,CAA5B;;AAMA,MAAMC,WAAW,GAAGlF,IAAI,IAAI,SAASmF,IAAT,CAAcnF,IAAd,CAA5B;;AAEA,MAAMoF,UAAU,GAAG,CAAC;AAChBrK,EAAAA,EADgB;AAEhBjM,EAAAA,SAFgB;AAGhB+L,EAAAA,OAHgB;AAIhBwK,EAAAA,MAJgB;AAKhBC,EAAAA,UALgB;AAMhB3K,EAAAA;AANgB,CAAD,KAON;AACT,QAAM;AAAClJ,IAAAA;AAAD,MAAMC,cAAc,EAA1B;AACA,QAAM;AAAC4S,IAAAA;AAAD,MAAoBiB,OAAO,EAAjC;AACA,QAAM,CAAC;AAAC1D,IAAAA;AAAD,GAAD,IAAWsC,aAAa,EAA9B;AACA,QAAM;AAAC/N,IAAAA,OAAD;AAAU6H,IAAAA,KAAV;AAAiBuF,IAAAA,aAAjB;AAAgC,OAAGkB;AAAnC,MAAiDD,GAAG,CAAC5C,IAAD,EAAQ,GAAEhH,OAAQ,IAAGE,EAAG,EAAxB,EAA2B,EAA3B,CAA1D;AACA,QAAM,CAACyK,UAAD,EAAaC,aAAb,IAA8B5T,QAAQ,CAAC,CAAD,CAA5C;AACA,QAAM,CAAC6T,qBAAD,EAAwBC,wBAAxB,IAAoD9T,QAAQ,CAAC,KAAD,CAAlE;AACA,QAAM,CAAC+T,cAAD,EAAiBC,iBAAjB,IAAsChU,QAAQ,CAAC,IAAD,CAApD;AACA,QAAMiU,OAAO,GAAGlT,MAAM,CAAC,IAAD,CAAtB;AACA,QAAMmT,cAAc,GAAGnJ,aAAW,CAAC8H,UAAD,CAAlC;AAEA5R,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI6B,MAAM,IAAI0Q,MAAd,EACI1Q,MAAM,CAAC1B,gBAAP,CAAwB,QAAxB,EAAkC+S,YAAlC;AAEJ,WAAO,MAAM;AACT,UAAIrR,MAAM,IAAI0Q,MAAd,EACI1Q,MAAM,CAACxB,mBAAP,CAA2B,QAA3B,EAAqC6S,YAArC;AACP,KAHD;AAIH,GARQ,EAQN,EARM,CAAT;;AAUA,QAAMC,mBAAmB,GAAG,YAAY;AACpCN,IAAAA,wBAAwB,CAAC,IAAD,CAAxB;;AAEA,QAAI;AACA,YAAMO,GAAG,GAAG7J,MAAM,CAACvB,gBAAP,CAAwBH,KAAxB,EAA+BE,OAA/B,EAAwCE,EAAxC,IAA8C,gBAA1D;AACA,YAAM;AAAC8G,QAAAA;AAAD,UAAS,MAAM2C,QAAG,CAACC,GAAJ,CAAQyB,GAAR,CAArB;AAEAL,MAAAA,iBAAiB,CAAChE,IAAI,CAAC6C,UAAN,CAAjB;AACH,KALD,CAKE,OAAOrP,CAAP,EAAU;AACRwP,MAAAA,OAAO,CAAC/O,GAAR,CAAYT,CAAZ;AACH;;AAEDsQ,IAAAA,wBAAwB,CAAC,KAAD,CAAxB;AACH,GAbD;;AAeA7S,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACuS,MAAD,IAAWX,UAAX,IACG,CAACyB,OAAO,CAACJ,cAAD,EAAiBrB,UAAjB,CADX,IAEGA,UAAU,CAAC0B,OAFd,IAGGlB,WAAW,CAACR,UAAU,CAAC,cAAD,CAAX,CAHlB,EAIE;AACEuB,MAAAA,mBAAmB;AACtB;AACJ,GARQ,EAQN,CAACpE,IAAD,CARM,CAAT;AAUA/O,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACuS,MAAD,IACI,OAAOtK,EAAP,KAAc,QAAd,IAA0BF,OAD9B,KAEK,CAAC6J,UAAU,CAAC7C,IAAZ,IAAoB,CAAC5D,KAAtB,IAAiC,CAAAyG,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAErQ,KAAZ,MAAsB0G,EAF3D,CAAJ,EAGE;AACEuJ,MAAAA,eAAe,CAAC3J,KAAD,EAAQE,OAAR,EAAiBE,EAAjB,CAAf;AACH;AACJ,GAPQ,EAON,CAACA,EAAD,EAAKF,OAAL,CAPM,CAAT;AASA,QAAM,CAACzL,GAAD,IAAQiX,uBAAuB,CAAC,MAAM;AACxC,QAAIhB,MAAM,IAAI,CAACjP,OAAX,KACC,CAACsO,UAAU,CAAC7C,IAAZ,IAAoB,CAAC5D,KAAtB,IACIyG,UAAU,CAAC7C,IAAX,IAAmB6C,UAAU,CAACrQ,KAAX,KAAqB0G,EAF5C,CAAJ,EAIIuJ,eAAe,CAAC3J,KAAD,EAAQE,OAAR,EAAiBE,EAAjB,CAAf;AACP,GANoC,EAMlC,EANkC,EAM9B,CAACA,EAAD,EAAKF,OAAL,EAAcgH,IAAd,CAN8B,CAArC;AAQA/O,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI4R,UAAU,IAAIA,UAAU,CAAC,aAAD,CAAV,KAA8B,OAA5C,IAAuD4B,KAA3D,EAAkE;AAC9D,YAAMC,IAAI,GAAGzB,YAAY,CAACJ,UAAU,CAAC7C,IAAZ,CAAzB;AAEA,UAAI0E,IAAI,IAAIxT,QAAQ,CAACyT,aAAT,CAAwB,UAAS3L,OAAQ,EAAzC,CAAZ,EACIyL,KAAK,CAACG,KAAN,CAAYC,UAAZ,CAAuBH,IAAvB,EAA8B,SAAQ1L,OAAQ,EAA9C;AACP;;AAED,QAAIwK,MAAJ,EACIrT,UAAU,CAAC,MAAMgU,YAAY,EAAnB,EAAuB,EAAvB,CAAV;AAEP,GAXQ,EAWN,CAACnE,IAAD,CAXM,CAAT;;AAaA,QAAMmE,YAAY,GAAG,MAAM;AACvB,QAAI5W,GAAG,CAACmE,OAAJ,IAAeuS,OAAO,CAACvS,OAA3B,EAAoC;AAChC,YAAMoT,cAAc,GAAGvX,GAAG,CAACmE,OAAJ,CAAY4J,WAAnC;AACA,YAAMyJ,SAAS,GAAGd,OAAO,CAACvS,OAAR,CAAgB4J,WAAhB,GAA8BqI,UAAhD;AAEA,UAAIqB,QAAQ,GAAGF,cAAc,GAAGC,SAAhC;AAEA,UAAIC,QAAQ,GAAG,CAAf,EACIA,QAAQ,GAAG,CAAX;AAEJpB,MAAAA,aAAa,CAACoB,QAAD,CAAb;AACH;AACJ,GAZD;;AAcA,QAAMC,WAAW,GAAG,MAAM;AACtB,QAAI,CAACpC,UAAU,CAAC0B,OAAhB,EACI,oBACI7X;AACI,MAAA,GAAG,EAAG,GAAE0W,mBAAmB,CAACP,UAAU,CAAC,cAAD,CAAX,CAA6B,UAASA,UAAU,CAAC7C,IAAK,EADrF;AAEI,MAAA,GAAG,EAAC;AAFR,MADJ,CADJ,KAOK,IAAI+D,cAAJ,EAAoB;AACrB,UAAIA,cAAc,CAAC,cAAD,CAAlB,EAAoC;AAChC,4BACIrX;AAAK,UAAA,GAAG,EAAEqX,cAAc,CAAC,cAAD,CAAxB;AAA0C,UAAA,GAAG,EAAC;AAA9C,UADJ;AAGH,OAJD,MAKI,oBACIrX;AACI,QAAA,GAAG,EAAG,GAAE0W,mBAAmB,CAACP,UAAU,CAAC,cAAD,CAAX,CAA6B,UAASA,UAAU,CAAC7C,IAAK,EADrF;AAEI,QAAA,GAAG,EAAC;AAFR,QADJ;AAMP;AAED,WAAO,IAAP;AACH,GAvBD;;AAyBA,QAAMkF,SAAS,GAAG,MAAM;AACpB,UAAMC,SAAS,GAAGxS,mBAAmB,CAACkQ,UAAU,CAAC7C,IAAZ,CAArC;;AAEA,QAAImF,SAAJ,EAAe;AACX,YAAMnF,IAAI,GAAGoF,KAAA,CAAUD,SAAV,CAAb;AAEA,UAAIlS,KAAK,CAACoL,OAAN,CAAc2B,IAAd,KAAuBA,IAAI,CAAClK,MAAhC,EACI,oBACIpJ,6BAAC,KAAD;AACI,QAAA,IAAI,EAAEsT;AADV,QADJ;AAKP;;AAED,wBACItT;AAAK,MAAA,SAAS,EAAEC,KAAG,CAACiG;AAApB,OAA2BhD,CAAC,CAAC,wBAAD,CAA5B,CADJ;AAGH,GAjBD;;AAmBA,QAAMyV,YAAY,GAAG,MAAM;AACvB,UAAMX,IAAI,GAAGzB,YAAY,CAACJ,UAAU,CAAC7C,IAAZ,CAAzB;AAEA,QAAI,CAAC0E,IAAL,EACI,OAAO,IAAP;AAEJA,IAAAA,IAAI,CAACY,MAAL,CAAYlP,KAAZ,GAAoB,MAApB;AACAsO,IAAAA,IAAI,CAACY,MAAL,CAAYC,MAAZ,GAAqB,CAArB;AACAb,IAAAA,IAAI,CAACY,MAAL,CAAYE,QAAZ,GAAuB,IAAvB;AACAd,IAAAA,IAAI,CAAClK,MAAL,GAAc;AAACiL,MAAAA,UAAU,EAAE;AAAb,KAAd;AAEA,wBACI/Y,6BAAC,IAAD,oBACQgY,IADR;AAAA,aAEW;AACHtO,QAAAA,KAAK,EAAE,MADJ;AAEHsP,QAAAA,MAAM,EAAE;AAFL,OAFX;AAAA;AAAA,OADJ;AAUH,GArBD;;AAuBA,QAAMC,WAAW,GAAG,mBAAMjZ;AAAK,IAAA,EAAE,EAAG,SAAQsM,OAAQ;AAA1B,IAA1B;;AAEA,QAAM4M,gBAAgB,GAAG,MAAM;AAC3B,QAAIrR,OAAJ,EACI,OAAO,IAAP;AAEJ,QAAIoN,aAAa,KAAK,GAAlB,IAAyB6B,MAA7B,EACI,oBAAO9W;AAAK,MAAA,SAAS,EAAEC,KAAG,CAACG;AAApB,OAA8B8C,CAAC,CAAC,UAAD,CAA/B,CAAP;AAEJ,QAAI+R,aAAa,KAAK,GAAlB,IAAyB,CAAC6B,MAA9B,EACI,oBAAO9W;AAAK,MAAA,SAAS,EAAEC,KAAG,CAACiG;AAApB,OAA2BhD,CAAC,CAAC,WAAD,CAA5B,CAAP;AAEJ,QAAIiT,UAAU,CAAC0B,OAAX,IAAsBf,MAAtB,IAAgCH,WAAW,CAACR,UAAU,CAAC,cAAD,CAAX,CAA/C,EACI,oBAAOnW;AAAK,MAAA,SAAS,EAAEC,KAAG,CAACG;AAApB,OAA8B8C,CAAC,CAAC,WAAD,CAA/B,CAAP;;AAEJ,YAAQ,IAAR;AACI,WAAMiT,UAAU,CAAC,cAAD,CAAV,KAA+B,eAArC;AACA,WAAMA,UAAU,CAAC,cAAD,CAAV,KAA+B,WAArC;AACA,WAAMA,UAAU,CAAC,cAAD,CAAV,KAA+B,YAArC;AACI,eAAOoC,WAAW,EAAlB;;AAEJ,WAAMpC,UAAU,CAAC,cAAD,CAAV,KAA+B,UAArC;AACI,eAAOqC,SAAS,EAAhB;;AAEJ,WAAMrC,UAAU,CAAC,aAAD,CAAV,KAA8B,QAApC;AACI,eAAOwC,YAAY,EAAnB;;AAEJ,WAAMxC,UAAU,CAAC,aAAD,CAAV,KAA8B,OAApC;AACI,eAAO8C,WAAW,EAAlB;;AAEJ,WAAKE,SAAL;AACI,eAAO,IAAP;;AAEJ;AACI,4BAAOnZ;AAAK,UAAA,SAAS,EAAE8W,MAAM,GAAG7W,KAAG,CAACG,OAAP,GAAiBH,KAAG,CAACiG;AAA3C,WAAkDhD,CAAC,CAAC,wBAAD,CAAnD,CAAP;AAnBR;AAqBH,GAlCD;;AAoCA,sBACIlD;AACI,IAAA,GAAG,EAAEa,GADT;AAEI,IAAA,SAAS,EAAEC,EAAE,CAACb,KAAG,CAACkW,UAAL,EAAiB5V,SAAjB,EAA4B;AACrC,iBAAWuW,MAD0B;AAErCjP,MAAAA,OAAO,EAAEA,OAAO,IAAIkP,UAAX,IAAyBI;AAFG,KAA5B;AAFjB,kBAOInX;AACI,IAAA,GAAG,EAAEuX,OADT;AAEI,IAAA,SAAS,EAAEzW,EAAE,CAACb,KAAG,CAACmZ,IAAL,EAAW;AACpB,eAAUjD,UAAU,IAAIA,UAAU,CAAC7C,IAAzB,IAAiC6C,UAAU,CAAC,cAAD,CAAV,KAA+B,UADtD;AAEpB,eAAUA,UAAU,IAAIA,UAAU,CAAC7C,IAAzB,IAAiC6C,UAAU,CAAC,aAAD,CAAV,KAA8B;AAFrD,KAAX,CAFjB;AAOI,IAAA,KAAK,EACAA,UAAU,IAAIA,UAAU,CAAC,cAAD,CAAV,KAA+B,UAA9C,GACM;AAACpF,MAAAA,SAAS,EAAG,SAAQkG,UAAW;AAAhC,KADN,GAEM;AAVd,KAaKiC,gBAAgB,EAbrB,CAPJ,CADJ;AAyBH,CAnOD;;AAqOA,aAAe9X,KAAK,iBAAKpB,6BAAC,aAAD,qBACrBA,6BAAC,UAAD,EAAgBoB,KAAhB,CADqB,CAAzB;;;;"}